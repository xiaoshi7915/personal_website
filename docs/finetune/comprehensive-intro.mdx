---
sidebar_position: 1.5
title: å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯æ·±åº¦ç ”ç©¶æŠ¥å‘Š
description: å‰ä¸–ä»Šç”Ÿã€æ ¸å¿ƒæ–¹æ³•ä¸æœªæ¥è¶‹åŠ¿æ·±åº¦è§£æ
---

import React from 'react';
import CodeBlock from '@site/src/components/CodeBlock/CodeBlock';
import FAQ from '@site/src/components/FAQ/FAQ';
import FAQItem from '@site/src/components/FAQ/FAQItem';
import ReadingProgress from '@site/src/components/ReadingProgress/ReadingProgress';
import BackToTop from '@site/src/components/BackToTop/BackToTop';
import GlobalDocTools from '@site/src/components/GlobalDocTools/GlobalDocTools';
import FineTuningComparison from '@site/src/components/FineTuningComparison/FineTuningComparison';

import '@site/src/css/finetune-intro.css';

<ReadingProgress />
<BackToTop />
<GlobalDocTools />

<div id="main-content" className="finetune-intro">

<div className="finetune-hero">
  <h1>å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯</h1>
  <p style={{ fontSize: '1.5rem', marginTop: '1rem', color: 'var(--finetune-text-secondary)' }}>
    å‰ä¸–ä»Šç”Ÿã€æ ¸å¿ƒæ–¹æ³•ä¸æœªæ¥è¶‹åŠ¿æ·±åº¦è§£æ
  </p>
  <p style={{ marginTop: '1rem', color: 'var(--finetune-text-secondary)' }}>
    ä»ä¼ ç»Ÿå…¨å‚æ•°å¾®è°ƒåˆ°å‚æ•°é«˜æ•ˆå¾®è°ƒ(PEFT)çš„æŠ€æœ¯æ¼”è¿›ï¼Œ<br/>
    æ¢ç´¢å¤§æ¨¡å‹åœ¨åŒ»ç–—ã€æ³•å¾‹ã€ä»£ç ç”Ÿæˆç­‰é¢†åŸŸçš„æ·±åº¦åº”ç”¨
  </p>
</div>

<div className="finetune-grid finetune-grid-2" style={{ marginTop: '3rem' }}>
  <div className="finetune-card">
    <div className="finetune-icon-container" style={{ background: 'linear-gradient(135deg, var(--finetune-primary) 0%, var(--finetune-primary-light) 100%)' }}>ğŸš€</div>
    <h3>æŠ€æœ¯é‡Œç¨‹ç¢‘</h3>
    <p className="finetune-text-secondary">
      ä»2020å¹´"é¢„è®­ç»ƒ+å¾®è°ƒ"èŒƒå¼ç¡®ç«‹ï¼Œåˆ°2025å¹´RLVRèŒƒå¼çš„çªç ´æ€§è¿›å±•
    </p>
    <ul style={{ marginTop: '1rem', fontSize: '0.9rem', listStyle: 'none', padding: 0 }}>
      <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1.125rem' }}>âœ“</span>
        <span>GPT-2/3ç¡®ç«‹åŸºç¡€èŒƒå¼ <span className="finetune-year-badge">2020</span></span>
      </li>
      <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1.125rem' }}>âœ“</span>
        <span>Prefix-Tuningå¼€å¯PEFTæ—¶ä»£ <span className="finetune-year-badge">2021</span></span>
      </li>
      <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1.125rem' }}>âœ“</span>
        <span>LoRA/QLoRAé™ä½è®¡ç®—é—¨æ§› <span className="finetune-year-badge">2022-2023</span></span>
      </li>
      <li style={{ display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1.125rem' }}>âœ“</span>
        <span>DeepSeek R1éªŒè¯RLVRèŒƒå¼ <span className="finetune-year-badge">2025</span></span>
      </li>
    </ul>
  </div>

  <div className="finetune-card">
    <div className="finetune-icon-container" style={{ background: 'linear-gradient(135deg, var(--finetune-primary-light) 0%, var(--finetune-primary) 100%)' }}>âš™ï¸</div>
    <h3>æ ¸å¿ƒæŠ€æœ¯</h3>
    <p className="finetune-text-secondary">
      å‚æ•°é«˜æ•ˆå¾®è°ƒ(PEFT)æŠ€æœ¯çš„çªç ´æ€§è¿›å±•
    </p>
    <div style={{ marginTop: '1rem' }}>
      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.75rem' }}>
        <span style={{ fontWeight: 500 }}>LoRA</span>
        <span className="finetune-percent-badge">99%+ å‚æ•°å‡å°‘</span>
      </div>
      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.75rem' }}>
        <span style={{ fontWeight: 500 }}>QLoRA</span>
        <span className="finetune-percent-badge">4ä½é‡åŒ–</span>
      </div>
      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
        <span style={{ fontWeight: 500 }}>Prompt Tuning</span>
        <span className="finetune-percent-badge">0.01% å‚æ•°</span>
      </div>
    </div>
  </div>

  <div className="finetune-card">
    <div className="finetune-icon-container" style={{ background: 'linear-gradient(135deg, var(--finetune-primary) 0%, var(--finetune-primary-light) 100%)' }}>ğŸ“ˆ</div>
    <h3>è¡Œä¸šåº”ç”¨</h3>
    <p className="finetune-text-secondary">
      å‚ç›´é¢†åŸŸçš„æ·±åº¦èµ‹èƒ½ä¸ä¼ä¸šçº§åº”ç”¨
    </p>
    <div className="finetune-grid finetune-grid-2" style={{ marginTop: '1rem', gap: '0.5rem' }}>
      <div style={{ background: 'rgba(30, 64, 175, 0.12)', padding: '0.75rem', borderRadius: '6px', textAlign: 'center', fontSize: '0.875rem', fontWeight: 500, color: 'var(--finetune-text)', border: '1px solid rgba(30, 64, 175, 0.2)' }}>åŒ»ç–—è¯Šæ–­</div>
      <div style={{ background: 'rgba(30, 64, 175, 0.12)', padding: '0.75rem', borderRadius: '6px', textAlign: 'center', fontSize: '0.875rem', fontWeight: 500, color: 'var(--finetune-text)', border: '1px solid rgba(30, 64, 175, 0.2)' }}>æ³•å¾‹åˆè§„</div>
      <div style={{ background: 'rgba(30, 64, 175, 0.12)', padding: '0.75rem', borderRadius: '6px', textAlign: 'center', fontSize: '0.875rem', fontWeight: 500, color: 'var(--finetune-text)', border: '1px solid rgba(30, 64, 175, 0.2)' }}>ä»£ç ç”Ÿæˆ</div>
      <div style={{ background: 'rgba(30, 64, 175, 0.12)', padding: '0.75rem', borderRadius: '6px', textAlign: 'center', fontSize: '0.875rem', fontWeight: 500, color: 'var(--finetune-text)', border: '1px solid rgba(30, 64, 175, 0.2)' }}>é‡‘èé£æ§</div>
    </div>
  </div>

  <div className="finetune-card">
    <div className="finetune-icon-container" style={{ background: 'linear-gradient(135deg, var(--finetune-primary-light) 0%, var(--finetune-primary) 100%)' }}>ğŸ”®</div>
    <h3>æœªæ¥è¶‹åŠ¿</h3>
    <p className="finetune-text-secondary">
      ä¸‰æ®µå¼è®­ç»ƒèŒƒå¼ä¸å¤šæŠ€æœ¯èåˆ
    </p>
    <ul style={{ marginTop: '1rem', fontSize: '0.9rem', listStyle: 'none', padding: 0 }}>
      <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'center' }}>
        <span style={{ color: 'var(--finetune-primary-light)', marginRight: '0.5rem', fontSize: '1.125rem' }}>â†’</span>
        <span>é¢„è®­ç»ƒ-ä¸­è®­ç»ƒ-åè®­ç»ƒ</span>
      </li>
      <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'center' }}>
        <span style={{ color: 'var(--finetune-primary-light)', marginRight: '0.5rem', fontSize: '1.125rem' }}>â†’</span>
        <span>å¼ºåŒ–å­¦ä¹ +PEFTååŒ</span>
      </li>
      <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'center' }}>
        <span style={{ color: 'var(--finetune-primary-light)', marginRight: '0.5rem', fontSize: '1.125rem' }}>â†’</span>
        <span>è‡ªåŠ¨åŒ–å¾®è°ƒ(AutoFT)</span>
      </li>
      <li style={{ display: 'flex', alignItems: 'center' }}>
        <span style={{ color: 'var(--finetune-primary-light)', marginRight: '0.5rem', fontSize: '1.125rem' }}>â†’</span>
        <span>å¤šæ¨¡æ€å¾®è°ƒ</span>
      </li>
    </ul>
  </div>
</div>

## ä¸€ã€å¤§æ¨¡å‹å¾®è°ƒçš„å‰ä¸–ä»Šç”Ÿä¸å‘å±•è¶‹åŠ¿

### æŠ€æœ¯æ¼”è¿›çš„é‡Œç¨‹ç¢‘äº‹ä»¶

#### ä»"é¢„è®­ç»ƒ+å¾®è°ƒ"èŒƒå¼ç¡®ç«‹åˆ°PEFTå…´èµ·

å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯çš„å‘å±•ä¸å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ¼”è¿›ç´§å¯†ç›¸è¿ã€‚<span className="finetune-year-badge">2020</span>å¹´å‰åï¼Œéšç€GPT-2/3ç­‰æ¨¡å‹çš„å‡ºç°ï¼Œ"é¢„è®­ç»ƒ+å¾®è°ƒ"èŒƒå¼å¾—ä»¥ç¡®ç«‹ã€‚è¿™ä¸€èŒƒå¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šé¦–å…ˆåœ¨æµ·é‡æ— æ ‡æ³¨æ–‡æœ¬ä¸Šè¿›è¡Œé¢„è®­ç»ƒï¼Œè®©æ¨¡å‹å­¦ä¹ é€šç”¨è¯­è¨€çŸ¥è¯†ï¼›ç„¶ååœ¨ç‰¹å®šä»»åŠ¡ä¸Šä½¿ç”¨æœ‰æ ‡æ³¨æ•°æ®è¿›è¡Œå¾®è°ƒã€‚

ç„¶è€Œï¼Œéšç€æ¨¡å‹å‚æ•°è§„æ¨¡è¿…é€Ÿè†¨èƒ€è‡³åƒäº¿ç”šè‡³ä¸‡äº¿çº§åˆ«ï¼Œä¼ ç»Ÿçš„å…¨å‚æ•°å¾®è°ƒå˜å¾—æ„ˆå‘æ˜‚è´µã€‚å…¨å‚æ•°å¾®è°ƒéœ€è¦ä¸ºæ¯ä¸ªä»»åŠ¡å­˜å‚¨å®Œæ•´çš„æ¨¡å‹å‰¯æœ¬ï¼Œæ¶ˆè€—å·¨å¤§å­˜å‚¨ç©ºé—´å’Œè®¡ç®—èµ„æºã€‚

<div className="finetune-grid finetune-grid-3" style={{ margin: '1.5rem 0', gap: '1rem' }}>
  <div className="finetune-stat-card">
    <div className="finetune-stat-number" style={{ fontSize: '2rem' }}>åƒäº¿+</div>
    <div className="finetune-stat-label">æ¨¡å‹å‚æ•°é‡</div>
    <div className="finetune-stat-desc">å‚æ•°è§„æ¨¡è¿…é€Ÿè†¨èƒ€</div>
  </div>
  <div className="finetune-stat-card">
    <div className="finetune-stat-number" style={{ fontSize: '1.75rem' }}>æ•°åƒä¸‡$</div>
    <div className="finetune-stat-label">å…¨å‚æ•°å¾®è°ƒæˆæœ¬</div>
    <div className="finetune-stat-desc">ä¼ ç»Ÿæ–¹æ³•æ˜‚è´µ</div>
  </div>
  <div className="finetune-stat-card">
    <div className="finetune-stat-number" style={{ fontSize: '2.25rem' }}>99%+</div>
    <div className="finetune-stat-label">å‚æ•°å‡å°‘</div>
    <div className="finetune-stat-desc">PEFTæŠ€æœ¯çªç ´</div>
  </div>
</div>

<div className="finetune-highlight-box">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--finetune-primary)' }}>å…³é”®çªç ´</p>
  <p>
    <strong>å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰</strong>æŠ€æœ¯åº”è¿è€Œç”Ÿï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯å†»ç»“é¢„è®­ç»ƒæ¨¡å‹çš„å¤§éƒ¨åˆ†å‚æ•°ï¼Œä»…å¯¹ä¸€å°éƒ¨åˆ†æ–°å¢æˆ–é€‰å®šçš„å‚æ•°è¿›è¡Œè®­ç»ƒã€‚è¿™ä¸€æ–¹å‘çš„æ—©æœŸæ¢ç´¢å¯è¿½æº¯åˆ°<span className="finetune-year-badge">2021</span>å¹´æå‡ºçš„Prefix-Tuningï¼ŒéšåPrompt Tuningã€Adapterç­‰æ–¹æ³•ç›¸ç»§è¢«æå‡ºã€‚
  </p>
</div>

#### å…³é”®ç®—æ³•çªç ´ï¼šä»SFTåˆ°RLVR

å¾®è°ƒæŠ€æœ¯çš„ç®—æ³•æ¼”è¿›ç»å†äº†ä»ç®€å•çš„ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰åˆ°æ›´å¤æ‚çš„å¼ºåŒ–å­¦ä¹ èŒƒå¼çš„è½¬å˜ã€‚æœ€åˆçš„å¾®è°ƒä¸»è¦é‡‡ç”¨ç›‘ç£å­¦ä¹ çš„æ–¹å¼ï¼Œåœ¨æ ‡æ³¨å¥½çš„"è¾“å…¥-è¾“å‡º"æ•°æ®å¯¹ä¸Šè®­ç»ƒæ¨¡å‹ã€‚

ä¸ºäº†è¿›ä¸€æ­¥æå‡æ¨¡å‹èƒ½åŠ›ï¼Œç ”ç©¶è€…å¼•å…¥äº†<strong>åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰</strong>ã€‚RLHFé€šè¿‡æ”¶é›†äººç±»å¯¹æ¨¡å‹è¾“å‡ºçš„åå¥½æ’åºï¼Œè®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼Œå†åˆ©ç”¨å¼ºåŒ–å­¦ä¹ ç®—æ³•ä¼˜åŒ–LLMç­–ç•¥ã€‚è¿™ä¸€èŒƒå¼åœ¨æå‡æ¨¡å‹å®‰å…¨æ€§å’Œæœ‰ç”¨æ€§æ–¹é¢å–å¾—äº†å·¨å¤§æˆåŠŸã€‚

<div className="finetune-highlight-box" style={{ borderLeftColor: 'var(--finetune-primary-light)' }}>
  <p style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--finetune-primary-light)' }}>æœ€æ–°è¿›å±•</p>
  <p>
    è¿›å…¥<span className="finetune-year-badge">2025</span>å¹´ï¼Œ<strong>"å¼ºåŒ–å­¦ä¹ ä¸å¯éªŒè¯å¥–åŠ±"ï¼ˆRLVRï¼‰</strong>èŒƒå¼å…´èµ·ã€‚ä¸RLHFä¾èµ–äººç±»ä¸»è§‚åå¥½ä¸åŒï¼ŒRLVRåˆ©ç”¨å®¢è§‚ã€å¯è‡ªåŠ¨éªŒè¯çš„å¥–åŠ±ä¿¡å·è®­ç»ƒæ¨¡å‹ã€‚DeepSeek R1æ¨¡å‹çš„æˆåŠŸè¯æ˜äº†é€šè¿‡å»¶é•¿å¼ºåŒ–å­¦ä¹ è®­ç»ƒå‘¨æœŸï¼Œå¯ä»¥åœ¨ä¸æ˜¾è‘—å¢åŠ æ¨¡å‹å‚æ•°è§„æ¨¡çš„æƒ…å†µä¸‹å¤§å¹…æå‡æ¨ç†èƒ½åŠ›ã€‚
  </p>
</div>

#### è®¡ç®—æ•ˆç‡çš„é©å‘½

è®¡ç®—æ•ˆç‡çš„æå‡æ˜¯é©±åŠ¨å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯æ™®åŠçš„æ ¸å¿ƒåŠ¨åŠ›ï¼Œå…¶ä¸­<strong>LoRAï¼ˆLow-Rank Adaptationï¼‰</strong>åŠå…¶å˜ä½“<strong>QLoRAï¼ˆQuantized LoRAï¼‰</strong>æ‰®æ¼”äº†è‡³å…³é‡è¦çš„è§’è‰²ã€‚

LoRAçš„æ ¸å¿ƒåˆ›æ–°åœ¨äºå…¶"ä½ç§©çŸ©é˜µåˆ†è§£"å‡è®¾ï¼šæ¨¡å‹åœ¨å¾®è°ƒè¿‡ç¨‹ä¸­ï¼Œå…¶æƒé‡çŸ©é˜µçš„å˜åŒ–å¯ä»¥ç”¨ä¸€ä¸ªä½ç§©çŸ©é˜µæ¥è¿‘ä¼¼è¡¨ç¤ºã€‚åŸºäºè¿™ä¸€å‡è®¾ï¼ŒLoRAå†»ç»“é¢„è®­ç»ƒæ¨¡å‹çš„åŸå§‹æƒé‡ï¼Œä»…åœ¨Transformeræ¶æ„çš„ç‰¹å®šå±‚ä¸­æ³¨å…¥ä¸€å¯¹å¯è®­ç»ƒçš„ä½ç§©çŸ©é˜µã€‚

<div className="finetune-grid finetune-grid-2">
  <div className="finetune-card" style={{ background: 'rgba(30, 64, 175, 0.08)', borderLeft: '4px solid var(--finetune-primary)' }}>
    <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.75rem' }}>LoRAä¼˜åŠ¿</h5>
    <ul style={{ fontSize: '0.875rem', listStyle: 'none', padding: 0, margin: 0 }}>
      <li style={{ marginBottom: '0.5rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>99%+å‚æ•°å‡å°‘</span>
      </li>
      <li style={{ marginBottom: '0.5rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>å•GPUå¯è®­ç»ƒå¤§æ¨¡å‹</span>
      </li>
      <li style={{ marginBottom: '0.5rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>é¿å…ç¾éš¾æ€§é—å¿˜</span>
      </li>
      <li style={{ display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>å­˜å‚¨å¼€é”€æå°</span>
      </li>
    </ul>
  </div>
  <div className="finetune-card" style={{ background: 'rgba(14, 165, 233, 0.08)', borderLeft: '4px solid var(--finetune-primary-light)' }}>
    <h5 style={{ color: 'var(--finetune-primary-light)', fontWeight: 600, marginBottom: '0.75rem' }}>QLoRAçªç ´</h5>
    <ul style={{ fontSize: '0.875rem', listStyle: 'none', padding: 0, margin: 0 }}>
      <li style={{ marginBottom: '0.5rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>4ä½NormalFloaté‡åŒ–</span>
      </li>
      <li style={{ marginBottom: '0.5rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>48GBå†…å­˜è®­ç»ƒ65Bæ¨¡å‹</span>
      </li>
      <li style={{ marginBottom: '0.5rem', display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>åŒé‡é‡åŒ–æŠ€æœ¯</span>
      </li>
      <li style={{ display: 'flex', alignItems: 'flex-start' }}>
        <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.5rem', fontSize: '1rem', lineHeight: '1.5' }}>â€¢</span>
        <span style={{ color: 'var(--finetune-text)' }}>åˆ†é¡µä¼˜åŒ–å™¨</span>
      </li>
    </ul>
  </div>
</div>

### å½“å‰å‘å±•ç°çŠ¶ä¸æ ¼å±€

#### åŸºç¡€æ¨¡å‹ç«äº‰è¶‹åŒï¼Œåº”ç”¨å±‚ç«äº‰æ¿€çƒˆ

æˆªè‡³2025å¹´ï¼Œå¤§æ¨¡å‹é¢†åŸŸçš„ç«äº‰æ ¼å±€å‘ˆç°å‡ºæ˜æ˜¾çš„ç»“æ„æ€§åˆ†åŒ–ã€‚åœ¨åŸºç¡€å¤§æ¨¡å‹å±‚é¢ï¼ŒæŠ€æœ¯è·¯çº¿å’Œæ€§èƒ½æŒ‡æ ‡é€æ¸è¶‹åŒï¼Œå¸‚åœºç«äº‰æ—¥ç›Šç™½çƒ­åŒ–ã€‚Scaling Lawæ•ˆåº”çš„é€’å‡ä½¿å¾—å•çº¯ä¾é æ‰©å¤§æ¨¡å‹è§„æ¨¡å’Œç®—åŠ›æŠ•å…¥å–å¾—çªç ´æ€§è¿›å±•å˜å¾—è¶Šæ¥è¶Šå›°éš¾ã€‚

ä¸æ­¤åŒæ—¶ï¼Œ<strong>åº”ç”¨å±‚çš„ç«äº‰æ­£å˜å¾—ç©ºå‰æ¿€çƒˆ</strong>ã€‚åŸºç¡€å¤§æ¨¡å‹çš„å¼€å‘è€…æ­£ç§¯ææ‰“ç£¨å…¶Cç«¯äº§å“ï¼Œé€šè¿‡å¼€å‘"Deep Research"ã€"è¯­éŸ³èŠå¤©"ç­‰åˆ›æ–°åŠŸèƒ½æ„å»ºç”Ÿæ€é—­ç¯ã€‚å¹¿å¤§çš„åº”ç”¨å±‚å¼€å‘è€…åˆ™åˆ©ç”¨å¤´éƒ¨å¤§æ¨¡å‹æä¾›çš„APIï¼Œåœ¨å‚ç›´åœºæ™¯ä¸­æŒ–æ˜åˆ›æ–°æœºä¼šã€‚

#### ä¼ä¸šçº§åº”ç”¨æˆä¸ºä¸»æˆ˜åœº

åœ¨2025å¹´ï¼Œå¤§æ¨¡å‹æŠ€æœ¯çš„ä»·å€¼é‡Šæ”¾æ­£åŠ é€Ÿä»Cç«¯å‘Bç«¯æ‰©æ•£ï¼Œ<strong>ä¼ä¸šçº§åº”ç”¨å·²æˆä¸ºæ¨åŠ¨å¤§æ¨¡å‹è§„æ¨¡åŒ–è½åœ°çš„ä¸»æˆ˜åœº</strong>ã€‚é¢„è®¡åˆ°2026å¹´ï¼Œä¼ä¸šçº§å¤§æ¨¡å‹çš„æ—¥å‡Tokenæ¶ˆè€—é‡å°†å†ç¿»ä¸€ç•ªã€‚

<div className="finetune-highlight-box">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--finetune-primary)' }}>ä¸»æµç­–ç•¥</p>
  <p>
    <strong>"åŸºç¡€æ¨¡å‹+é¢†åŸŸå¾®è°ƒ"</strong>çš„æ··åˆæ¶æ„å·²æˆä¸ºä¼ä¸šéƒ¨ç½²å¤§æ¨¡å‹çš„ä¸»æµç­–ç•¥ã€‚ä¼ä¸šé€‰æ‹©åŸºäºå¼ºå¤§çš„é€šç”¨åŸºç¡€æ¨¡å‹ï¼Œåˆ©ç”¨è‡ªèº«ç§¯ç´¯çš„è¡Œä¸šæ•°æ®è¿›è¡Œå¾®è°ƒï¼Œæ—¢èƒ½ç»§æ‰¿åŸºç¡€æ¨¡å‹çš„é€šç”¨èƒ½åŠ›ï¼Œåˆèƒ½å¿«é€Ÿé€‚åº”ç‰¹å®šé¢†åŸŸéœ€æ±‚ã€‚
  </p>
</div>

### æœªæ¥å‘å±•è¶‹åŠ¿å±•æœ›

#### è®­ç»ƒèŒƒå¼çš„æ¼”è¿›

å±•æœ›æœªæ¥ï¼Œå¤§æ¨¡å‹çš„è®­ç»ƒèŒƒå¼æ­£åœ¨ä»ä¼ ç»Ÿçš„"é¢„è®­ç»ƒ-å¾®è°ƒ"ä¸¤æ®µå¼ï¼Œå‘æ›´åŠ ç²¾ç»†åŒ–çš„<strong>"é¢„è®­ç»ƒ-ä¸­è®­ç»ƒ-åè®­ç»ƒ"ä¸‰æ®µå¼</strong>æ¼”è¿›ã€‚

<div className="finetune-grid finetune-grid-3" style={{ gap: '1rem' }}>
  <div className="finetune-card">
    <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.5rem' }}>é¢„è®­ç»ƒ</h5>
    <p style={{ fontSize: '0.875rem', margin: 0, color: 'var(--finetune-text)' }}>æ„å»ºåŸºç¡€è¯­è¨€èƒ½åŠ›å’Œä¸–ç•ŒçŸ¥è¯†</p>
  </div>
  <div className="finetune-card" style={{ background: 'rgba(14, 165, 233, 0.1)', borderLeft: '4px solid var(--finetune-primary-light)' }}>
    <h5 style={{ color: 'var(--finetune-primary-light)', fontWeight: 600, marginBottom: '0.5rem' }}>ä¸­è®­ç»ƒ</h5>
    <p style={{ fontSize: '0.875rem', margin: 0, color: 'var(--finetune-text)' }}>ä¸“æ³¨é¢†åŸŸçŸ¥è¯†æ³¨å…¥å’Œèƒ½åŠ›åŸ¹å…»</p>
  </div>
  <div className="finetune-card">
    <h5 style={{ color: 'var(--finetune-text)', fontWeight: 600, marginBottom: '0.5rem' }}>åè®­ç»ƒ</h5>
    <p style={{ fontSize: '0.875rem', margin: 0, color: 'var(--finetune-text)' }}>SFTã€RLHFç­‰ç²¾ç»†åŒ–è°ƒæ•´</p>
  </div>
</div>

#### æŠ€æœ¯èåˆä¸æ•ˆç‡ä¼˜åŒ–

æœªæ¥çš„å¤§æ¨¡å‹ä¼˜åŒ–å°†ä¸å†ä¾èµ–å•ä¸€æŠ€æœ¯è·¯å¾„ï¼Œè€Œæ˜¯èµ°å‘<strong>å¤šç§æŠ€æœ¯çš„æ·±åº¦èåˆ</strong>ã€‚å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰ã€å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰å’Œä¸Šä¸‹æ–‡å·¥ç¨‹å°†çµæ´»ç»„åˆï¼Œæ ¹æ®ä»»åŠ¡éœ€æ±‚å®ç°æ•ˆè´¹æ¯”æœ€ä¼˜åŒ–ã€‚

åŒæ—¶ï¼Œ<strong>è‡ªåŠ¨åŒ–å¾®è°ƒï¼ˆAutoFTï¼‰</strong>å’Œ<strong>æ•°æ®é«˜æ•ˆå¾®è°ƒï¼ˆDEFTï¼‰</strong>å°†æˆä¸ºé‡è¦å‘å±•æ–¹å‘ã€‚æœªæ¥çš„å·¥å…·å°†èƒ½è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„åŸºåº§æ¨¡å‹ã€å¾®è°ƒæ–¹æ³•å’Œè¶…å‚æ•°é…ç½®ã€‚

## äºŒã€å¤§æ¨¡å‹å¾®è°ƒçš„æ ¸å¿ƒæ¦‚å¿µä¸åŸç†

### å¾®è°ƒçš„æœ¬è´¨ï¼šè¿ç§»å­¦ä¹ åœ¨LLMä¸­çš„åº”ç”¨

#### è¿æ¥é€šç”¨èƒ½åŠ›ä¸ç‰¹å®šéœ€æ±‚çš„æ¡¥æ¢

å¤§æ¨¡å‹å¾®è°ƒçš„æœ¬è´¨æ˜¯<strong>è¿ç§»å­¦ä¹ </strong>åœ¨å¤§å‹è¯­è¨€æ¨¡å‹é¢†åŸŸçš„å…·ä½“å®è·µã€‚å…¶æ ¹æœ¬ç›®çš„åœ¨äºå¼¥åˆé¢„è®­ç»ƒæ¨¡å‹æ‰€å…·å¤‡çš„"é€šç”¨æ€§"ä¸å®é™…åº”ç”¨åœºæ™¯æ‰€è¦æ±‚çš„"ç‰¹å¼‚æ€§"ä¹‹é—´çš„é¸¿æ²Ÿã€‚

é¢„è®­ç»ƒæ¨¡å‹é€šè¿‡åœ¨æµ·é‡çš„å¤šæ ·åŒ–é€šç”¨æ–‡æœ¬ä¸Šè¿›è¡Œè®­ç»ƒï¼Œå·²ç»æŒæ¡äº†ä¸°å¯Œçš„è¯­è¨€çŸ¥è¯†ã€è¯­æ³•è§„åˆ™å’Œä¸–ç•Œå¸¸è¯†ã€‚ç„¶è€Œï¼Œå¯¹äºç‰¹å®šé¢†åŸŸçš„ä¸“ä¸šæœ¯è¯­ã€è¡Œä¸šçŸ¥è¯†æˆ–ç‹¬ç‰¹çš„è¾“å‡ºæ ¼å¼ï¼Œå…¶ç†è§£å’Œç”Ÿæˆèƒ½åŠ›å¾€å¾€æ˜¯æœ‰é™çš„ã€‚

<div className="finetune-highlight-box">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--finetune-primary)' }}>æ ¸å¿ƒä½œç”¨</p>
  <p>
    å¾®è°ƒæŠ€æœ¯é€šè¿‡åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨ç‰¹å®šä»»åŠ¡æˆ–é¢†åŸŸçš„æ•°æ®é›†è¿›è¡ŒäºŒæ¬¡è®­ç»ƒï¼Œå¯¹æ¨¡å‹çš„å‚æ•°è¿›è¡Œå°å¹…è°ƒæ•´ï¼Œä»è€Œå°†æ¨¡å‹çš„é€šç”¨èƒ½åŠ›"å¼•å¯¼"å¹¶"é€‚é…"åˆ°å…·ä½“çš„åº”ç”¨åœºæ™¯ä¸­ã€‚å®ƒæ‰®æ¼”äº†è¿æ¥é€šç”¨AIèƒ½åŠ›ä¸å‚ç›´è¡Œä¸šéœ€æ±‚çš„å…³é”®æ¡¥æ¢è§’è‰²ã€‚
  </p>
</div>

#### ç›¸è¾ƒäºä»é›¶è®­ç»ƒçš„ä¼˜åŠ¿

ä¸ä»é›¶å¼€å§‹è®­ç»ƒä¸€ä¸ªå¤§å‹è¯­è¨€æ¨¡å‹ç›¸æ¯”ï¼Œå¾®è°ƒåœ¨æˆæœ¬ã€æ•°æ®éœ€æ±‚å’Œæ€§èƒ½è¡¨ç°ä¸Šå…·æœ‰å‹å€’æ€§çš„ä¼˜åŠ¿ã€‚

<div className="finetune-grid finetune-grid-3" style={{ margin: '1.5rem 0' }}>
  <div className="finetune-stat-card">
    <div style={{ fontSize: '2.5rem', marginBottom: '0.75rem', lineHeight: 1 }}>ğŸ’°</div>
    <div className="finetune-stat-number">å•GPU</div>
    <div className="finetune-stat-label">å¾®è°ƒæˆæœ¬</div>
    <div className="finetune-stat-desc">vs æ•°åƒä¸‡ç¾å…ƒé¢„è®­ç»ƒ</div>
  </div>
  <div className="finetune-stat-card">
    <div style={{ fontSize: '2.5rem', marginBottom: '0.75rem', lineHeight: 1 }}>ğŸ“Š</div>
    <div className="finetune-stat-number">æ•°åƒæ¡</div>
    <div className="finetune-stat-label">æ ‡æ³¨æ•°æ®</div>
    <div className="finetune-stat-desc">vs æµ·é‡æ— æ ‡æ³¨æ•°æ®</div>
  </div>
  <div className="finetune-stat-card">
    <div style={{ fontSize: '2.5rem', marginBottom: '0.75rem', lineHeight: 1 }}>ğŸ“ˆ</div>
    <div className="finetune-stat-number">æ˜¾è‘—</div>
    <div className="finetune-stat-label">æ€§èƒ½æå‡</div>
    <div className="finetune-stat-desc">é¿å…ç¾éš¾æ€§é—å¿˜</div>
  </div>
</div>

### å¾®è°ƒçš„åŸºæœ¬å·¥ä½œæµç¨‹

#### 1. æ•°æ®å‡†å¤‡ä¸é¢„å¤„ç†

æ•°æ®æ˜¯å¾®è°ƒæˆåŠŸçš„åŸºçŸ³ï¼Œå…¶è´¨é‡ç›´æ¥å†³å®šäº†æ¨¡å‹æ€§èƒ½çš„ä¸Šé™ã€‚è¿™ä¸€é˜¶æ®µçš„æ ¸å¿ƒä»»åŠ¡æ˜¯æ„å»ºé«˜è´¨é‡ã€ä¸ç›®æ ‡ä»»åŠ¡é«˜åº¦ç›¸å…³çš„æ•°æ®é›†ã€‚

<div className="finetune-card">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '1.5rem', fontSize: '1.125rem' }}>æ•°æ®å‡†å¤‡ä¸‰æ­¥éª¤</h5>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '1.25rem' }}>
    <div className="finetune-step-item">
      <div className="finetune-step-number primary">1</div>
      <div className="finetune-step-content">
        <h6>æ•°æ®æ”¶é›†</h6>
        <p>æ ¹æ®åº”ç”¨åœºæ™¯ï¼Œä»åŒ»å­¦æ–‡çŒ®ã€æ³•å¾‹åˆ¤ä¾‹ã€é‡‘èæŠ¥å‘Šç­‰æ¥æºè·å–åŸå§‹æ•°æ®</p>
      </div>
    </div>
    <div className="finetune-step-item">
      <div className="finetune-step-number accent">2</div>
      <div className="finetune-step-content">
        <h6>æ•°æ®æ¸…æ´—</h6>
        <p>å»é™¤æ— å…³ä¿¡æ¯ã€ä¿®æ­£é”™è¯¯æ•°æ®ã€ç»Ÿä¸€æ ¼å¼ã€å¹³è¡¡æ ·æœ¬åˆ†å¸ƒ</p>
      </div>
    </div>
    <div className="finetune-step-item">
      <div className="finetune-step-number secondary">3</div>
      <div className="finetune-step-content">
        <h6>æ•°æ®æ ‡æ³¨</h6>
        <p>ç”±ä¸“ä¸šäººå‘˜å®Œæˆæ ‡æ³¨ï¼Œç¡®ä¿å‡†ç¡®æ€§å’Œæƒå¨æ€§</p>
      </div>
    </div>
  </div>
</div>

<CodeBlock language="python" title="æ•°æ®é¢„å¤„ç†ä»£ç ç¤ºä¾‹">
{`from datasets import load_dataset, Dataset
from transformers import AutoTokenizer
import pandas as pd

# 1. åŠ è½½å’Œæ¸…æ´—æ•°æ®
def load_and_clean_data(file_path):
    """åŠ è½½å¹¶æ¸…æ´—åŸå§‹æ•°æ®"""
    df = pd.read_csv(file_path)
    
    # æ•°æ®æ¸…æ´—
    df = df.dropna(subset=['instruction', 'output'])  # åˆ é™¤ç¼ºå¤±å€¼
    df = df[df['instruction'].str.len() > 10]  # è¿‡æ»¤è¿‡çŸ­æŒ‡ä»¤
    df = df[df['output'].str.len() > 20]  # è¿‡æ»¤è¿‡çŸ­è¾“å‡º
    
    # å»é‡
    df = df.drop_duplicates(subset=['instruction'])
    
    return df

# 2. æ ¼å¼åŒ–æ•°æ®ä¸ºæŒ‡ä»¤å¾®è°ƒæ ¼å¼
def format_instruction_data(df):
    """å°†æ•°æ®æ ¼å¼åŒ–ä¸ºæŒ‡ä»¤å¾®è°ƒæ ¼å¼"""
    formatted_data = []
    for _, row in df.iterrows():
        formatted_text = f"""### Instruction:
{row['instruction']}

### Response:
{row['output']}"""
        formatted_data.append({"text": formatted_text})
    
    return Dataset.from_list(formatted_data)

# 3. åˆ†è¯å’Œç¼–ç 
def tokenize_dataset(dataset, tokenizer, max_length=512):
    """å¯¹æ•°æ®é›†è¿›è¡Œåˆ†è¯å’Œç¼–ç """
    def tokenize_function(examples):
        # åˆ†è¯
        tokenized = tokenizer(
            examples["text"],
            truncation=True,
            max_length=max_length,
            padding="max_length",
            return_tensors="pt"
        )
        # è®¾ç½®labelsï¼ˆç”¨äºå› æœè¯­è¨€å»ºæ¨¡ï¼‰
        tokenized["labels"] = tokenized["input_ids"].clone()
        return tokenized
    
    return dataset.map(tokenize_function, batched=True)

# 4. ä½¿ç”¨ç¤ºä¾‹
tokenizer = AutoTokenizer.from_pretrained("meta-llama/Llama-2-7b-hf")
df = load_and_clean_data("training_data.csv")
dataset = format_instruction_data(df)
tokenized_dataset = tokenize_dataset(dataset, tokenizer)

# 5. æ•°æ®é›†åˆ’åˆ†
train_test_split = tokenized_dataset.train_test_split(test_size=0.1)
train_dataset = train_test_split["train"]
eval_dataset = train_test_split["test"]`}
</CodeBlock>

#### 2. æ¨¡å‹é€‰æ‹©ä¸è®­ç»ƒ

é€‰æ‹©åˆé€‚çš„é¢„è®­ç»ƒæ¨¡å‹ä½œä¸ºå¾®è°ƒåŸºåº§ï¼Œå¹¶è¿›è¡Œå®é™…çš„è®­ç»ƒè¿‡ç¨‹ã€‚è¿™éœ€è¦ç»¼åˆè€ƒè™‘å¤šä¸ªå› ç´ ã€‚

<div className="finetune-grid finetune-grid-2">
  <div className="finetune-card">
    <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.75rem' }}>æ¨¡å‹é€‰æ‹©è€ƒé‡</h5>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ“ èƒ½åŠ›å’Œè§„æ¨¡ï¼ˆGPT-4ã€Claude 3ç­‰ï¼‰</li>
      <li>âœ“ å¼€æºè®¸å¯ï¼ˆLLaMAã€Mistralç­‰ï¼‰</li>
      <li>âœ“ æˆæœ¬ä¸æ•°æ®å®‰å…¨è¦æ±‚</li>
      <li>âœ“ ç‰¹å®šé¢†åŸŸé¢„è®­ç»ƒï¼ˆå¦‚CodeLlamaï¼‰</li>
    </ul>
  </div>
  <div className="finetune-card">
    <h5 style={{ color: 'var(--finetune-primary-light)', fontWeight: 600, marginBottom: '0.75rem' }}>è®­ç»ƒç­–ç•¥è®¾è®¡</h5>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ“ ä»»åŠ¡é€‚é…ï¼ˆè¾“å‡ºå±‚å’ŒæŸå¤±å‡½æ•°ï¼‰</li>
      <li>âœ“ å¾®è°ƒæ–¹æ³•é€‰æ‹©ï¼ˆFFTæˆ–PEFTï¼‰</li>
      <li>âœ“ è¶…å‚æ•°è®¾ç½®ï¼ˆå­¦ä¹ ç‡ã€batch sizeç­‰ï¼‰</li>
      <li>âœ“ è®­ç»ƒè¿‡ç¨‹ç›‘æ§</li>
    </ul>
  </div>
</div>

#### 3. è¯„ä¼°ä¸è¿­ä»£

æ¨¡å‹è®­ç»ƒå®Œæˆåï¼Œå¿…é¡»å¯¹å…¶æ€§èƒ½è¿›è¡Œå…¨é¢å®¢è§‚çš„è¯„ä¼°ï¼Œå¹¶æ ¹æ®ç»“æœè¿›è¡Œè¿­ä»£ä¼˜åŒ–ã€‚

<div className="finetune-card">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '1rem' }}>è¯„ä¼°æ–¹æ³•è®º</h5>
  <div className="finetune-grid finetune-grid-2">
    <div>
      <h6 style={{ fontWeight: 600, marginBottom: '0.5rem' }}>è‡ªåŠ¨åŒ–è¯„ä¼°</h6>
      <ul style={{ fontSize: '0.875rem' }}>
        <li>â€¢ åˆ†ç±»ä»»åŠ¡ï¼šå‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡</li>
        <li>â€¢ ç”Ÿæˆä»»åŠ¡ï¼šBLEUã€ROUGEæŒ‡æ ‡</li>
        <li>â€¢ ä»£ç ç”Ÿæˆï¼šCodeBLEUã€Exact Match</li>
        <li>â€¢ LLM-as-a-Judgeæ–°è¶‹åŠ¿</li>
      </ul>
    </div>
    <div>
      <h6 style={{ fontWeight: 600, marginBottom: '0.5rem' }}>äººå·¥è¯„ä¼°</h6>
      <ul style={{ fontSize: '0.875rem' }}>
        <li>â€¢ é»„é‡‘æ ‡å‡†ï¼šçœŸå®ç”¨æˆ·ä½“éªŒ</li>
        <li>â€¢ ç›²æµ‹è¯„ä¼°ï¼šå¤šç»´åº¦æ‰“åˆ†</li>
        <li>â€¢ å¯¹è¯è´¨é‡è¯„ä¼°</li>
        <li>â€¢ åˆ›é€ åŠ›å’Œä»·å€¼è§‚å¯¹é½</li>
      </ul>
    </div>
  </div>
</div>

<CodeBlock language="python" title="è¯„ä¼°æŒ‡æ ‡è®¡ç®—ä»£ç ç¤ºä¾‹">
{`from transformers import AutoModelForCausalLM, AutoTokenizer
from datasets import load_metric
import torch
import numpy as np

# 1. åŠ è½½æ¨¡å‹å’Œåˆ†è¯å™¨
model = AutoModelForCausalLM.from_pretrained("./fine_tuned_model")
tokenizer = AutoTokenizer.from_pretrained("./fine_tuned_model")

# 2. BLEUåˆ†æ•°è®¡ç®—ï¼ˆç”¨äºæ–‡æœ¬ç”Ÿæˆä»»åŠ¡ï¼‰
bleu_metric = load_metric("bleu")

def compute_bleu(predictions, references):
    """è®¡ç®—BLEUåˆ†æ•°"""
    # å°†æ–‡æœ¬è½¬æ¢ä¸ºtokenåˆ—è¡¨
    pred_tokens = [pred.split() for pred in predictions]
    ref_tokens = [[ref.split()] for ref in references]
    
    result = bleu_metric.compute(
        predictions=pred_tokens,
        references=ref_tokens
    )
    return result["bleu"]

# 3. ROUGEåˆ†æ•°è®¡ç®—
rouge_metric = load_metric("rouge")

def compute_rouge(predictions, references):
    """è®¡ç®—ROUGEåˆ†æ•°"""
    result = rouge_metric.compute(
        predictions=predictions,
        references=references
    )
    return {
        "rouge1": result["rouge1"].mid.fmeasure,
        "rouge2": result["rouge2"].mid.fmeasure,
        "rougeL": result["rougeL"].mid.fmeasure
    }

# 4. å‡†ç¡®ç‡è®¡ç®—ï¼ˆç”¨äºåˆ†ç±»ä»»åŠ¡ï¼‰
def compute_accuracy(predictions, labels):
    """è®¡ç®—å‡†ç¡®ç‡"""
    correct = sum(p == l for p, l in zip(predictions, labels))
    return correct / len(labels)

# 5. æ¨¡å‹è¯„ä¼°å‡½æ•°
def evaluate_model(model, tokenizer, test_dataset, max_length=512):
    """è¯„ä¼°å¾®è°ƒåçš„æ¨¡å‹"""
    model.eval()
    predictions = []
    references = []
    
    with torch.no_grad():
        for example in test_dataset:
            # ç”Ÿæˆé¢„æµ‹
            inputs = tokenizer(
                example["instruction"],
                return_tensors="pt",
                truncation=True,
                max_length=max_length
            )
            
            outputs = model.generate(
                **inputs,
                max_length=max_length,
                num_beams=4,
                early_stopping=True
            )
            
            pred_text = tokenizer.decode(outputs[0], skip_special_tokens=True)
            predictions.append(pred_text)
            references.append(example["output"])
    
    # è®¡ç®—æŒ‡æ ‡
    bleu_score = compute_bleu(predictions, references)
    rouge_scores = compute_rouge(predictions, references)
    
    return {
        "bleu": bleu_score,
        "rouge": rouge_scores
    }

# 6. ä½¿ç”¨ç¤ºä¾‹
results = evaluate_model(model, tokenizer, test_dataset)
print(f"BLEU Score: {results['bleu']:.4f}")
print(f"ROUGE-1: {results['rouge']['rouge1']:.4f}")
print(f"ROUGE-2: {results['rouge']['rouge2']:.4f}")
print(f"ROUGE-L: {results['rouge']['rougeL']:.4f}")`}
</CodeBlock>

## ä¸‰ã€å¤§æ¨¡å‹å¾®è°ƒçš„æŠ€æœ¯æ–¹æ³•è¯¦è§£

### å…¨å‚æ•°å¾®è°ƒï¼ˆFull Fine-Tuningï¼‰

#### åŸç†ä¸å®ç°

å…¨å‚æ•°å¾®è°ƒæ˜¯æœ€ç›´æ¥ã€æœ€ä¼ ç»Ÿçš„å¾®è°ƒæ–¹æ³•ã€‚å…¶æ ¸å¿ƒåŸç†åœ¨äºï¼Œå°†é¢„è®­ç»ƒæ¨¡å‹çš„æ‰€æœ‰å‚æ•°éƒ½è§†ä¸ºå¯è®­ç»ƒå‚æ•°ï¼Œå¹¶åœ¨ä¸‹æ¸¸ä»»åŠ¡çš„ç‰¹å®šæ•°æ®é›†ä¸Šï¼Œé€šè¿‡åå‘ä¼ æ’­ç®—æ³•å¯¹æ‰€æœ‰è¿™äº›å‚æ•°è¿›è¡Œæ›´æ–°ã€‚

ä»æ•°å­¦è§’åº¦çœ‹ï¼Œå‡è®¾é¢„è®­ç»ƒæ¨¡å‹çš„å‚æ•°ä¸º Î¸_preï¼Œå¾®è°ƒçš„ç›®æ ‡æ˜¯å­¦ä¹ ä¸€ä¸ªå‚æ•°æ›´æ–°é‡ Î”Î¸ï¼Œä½¿å¾—å¾®è°ƒåçš„æ¨¡å‹å‚æ•° Î¸_fine = Î¸_pre + Î”Î¸ èƒ½å¤Ÿæœ€å°åŒ–ç‰¹å®šä»»åŠ¡çš„æŸå¤±å‡½æ•°ã€‚

<div className="finetune-math-formula">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem' }}>å…¨å‚æ•°å¾®è°ƒæ•°å­¦è¡¨è¾¾</p>
  <div style={{ marginBottom: '0.5rem' }}>
    <div style={{ fontFamily: 'monospace', fontSize: '1.1rem', marginBottom: '0.25rem' }}>Î¸_fine = Î¸_pre + Î”Î¸</div>
    <div style={{ fontFamily: 'monospace', fontSize: '1.1rem' }}>Î”Î¸ = -Î±âˆ‡_Î¸ L(Î¸_pre, D_task)</div>
  </div>
  <p style={{ fontSize: '0.75rem', marginTop: '0.5rem', color: 'var(--finetune-text-secondary)' }}>
    å…¶ä¸­ï¼šÎ¸_preæ˜¯é¢„è®­ç»ƒå‚æ•°ï¼ŒÎ±æ˜¯å­¦ä¹ ç‡ï¼ŒLæ˜¯ä»»åŠ¡æŸå¤±å‡½æ•°ï¼ŒD_taskæ˜¯ä»»åŠ¡æ•°æ®é›†
  </p>
</div>

<div className="finetune-card">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.75rem' }}>å®ç°æ­¥éª¤</h5>
  <ol style={{ fontSize: '0.875rem', paddingLeft: '1.5rem' }}>
    <li>åŠ è½½é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚é€šè¿‡Hugging Face transformersåº“ï¼‰</li>
    <li>è§£å†»æ¨¡å‹æ‰€æœ‰å‚æ•°</li>
    <li>é…ç½®è®­ç»ƒå‚æ•°ï¼ˆå­¦ä¹ ç‡é€šå¸¸å¾ˆå°ï¼Œ1e-5åˆ°1e-6ï¼‰</li>
    <li>ä½¿ç”¨ä¸‹æ¸¸ä»»åŠ¡æ•°æ®é›†å¯åŠ¨è®­ç»ƒè¿‡ç¨‹</li>
  </ol>
</div>

<CodeBlock language="python" title="PyTorchå®ç°ï¼šå…¨å‚æ•°å¾®è°ƒ">
{`from transformers import (
    AutoModelForCausalLM,
    AutoTokenizer,
    TrainingArguments,
    Trainer,
    DataCollatorForLanguageModeling
)
from datasets import load_dataset
import torch

# 1. åŠ è½½é¢„è®­ç»ƒæ¨¡å‹å’Œåˆ†è¯å™¨
model_name = "meta-llama/Llama-2-7b-hf"
model = AutoModelForCausalLM.from_pretrained(
    model_name,
    torch_dtype=torch.float16,
    device_map="auto"
)
tokenizer = AutoTokenizer.from_pretrained(model_name)
tokenizer.pad_token = tokenizer.eos_token

# 2. å‡†å¤‡æ•°æ®é›†
dataset = load_dataset("your_dataset")
def tokenize_function(examples):
    return tokenizer(
        examples["text"],
        truncation=True,
        max_length=512,
        padding="max_length"
    )
tokenized_dataset = dataset.map(tokenize_function, batched=True)

# 3. é…ç½®è®­ç»ƒå‚æ•°
training_args = TrainingArguments(
    output_dir="./fine_tuned_model",
    num_train_epochs=3,
    per_device_train_batch_size=4,
    gradient_accumulation_steps=8,
    learning_rate=2e-5,  # è¾ƒå°çš„å­¦ä¹ ç‡
    warmup_steps=500,
    logging_steps=100,
    save_steps=1000,
    fp16=True,
    optim="adamw_torch",
    lr_scheduler_type="cosine",
    weight_decay=0.01,
)

# 4. æ•°æ®æ•´ç†å™¨
data_collator = DataCollatorForLanguageModeling(
    tokenizer=tokenizer,
    mlm=False  # å› æœè¯­è¨€å»ºæ¨¡
)

# 5. åˆ›å»ºè®­ç»ƒå™¨
trainer = Trainer(
    model=model,
    args=training_args,
    train_dataset=tokenized_dataset["train"],
    data_collator=data_collator,
)

# 6. å¼€å§‹è®­ç»ƒ
trainer.train()

# 7. ä¿å­˜æ¨¡å‹
trainer.save_model("./fine_tuned_model")`}
</CodeBlock>

#### ä¼˜ç¼ºç‚¹åˆ†æ

<div className="finetune-grid finetune-grid-2">
  <div className="finetune-card-success">
    <h5 style={{ color: 'var(--ifm-color-success)', fontWeight: 600, marginBottom: '0.75rem' }}>ä¼˜ç‚¹</h5>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ“ æ€§èƒ½ä¸Šé™æœ€é«˜</li>
      <li>âœ“ å®ç°æ–¹å¼ç®€å•ç›´æ¥</li>
      <li>âœ“ é€šç”¨æ€§å¥½ï¼Œé€‚ç”¨å„ç§æ¨¡å‹</li>
    </ul>
  </div>
  <div className="finetune-card-danger">
    <h5 style={{ color: 'var(--ifm-color-danger)', fontWeight: 600, marginBottom: '0.75rem' }}>ç¼ºç‚¹</h5>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ— è®¡ç®—èµ„æºæ¶ˆè€—å·¨å¤§</li>
      <li>âœ— å­˜å‚¨å¼€é”€é«˜æ˜‚</li>
      <li>âœ— è®­ç»ƒæ—¶é—´æ¼«é•¿</li>
      <li>âœ— è¿‡æ‹Ÿåˆé£é™©é«˜</li>
    </ul>
  </div>
</div>

### å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰ï¼šè½»é‡åŒ–çš„é©å‘½

å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰æ˜¯ä¸€ç³»åˆ—æ—¨åœ¨é™ä½å¤§æ¨¡å‹å¾®è°ƒæˆæœ¬çš„æŠ€æœ¯æ€»ç§°ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯å†»ç»“é¢„è®­ç»ƒæ¨¡å‹çš„å¤§éƒ¨åˆ†å‚æ•°ï¼Œä»…å¯¹ä¸€å°éƒ¨åˆ†æ–°å¢æˆ–é€‰å®šçš„å‚æ•°è¿›è¡Œè®­ç»ƒã€‚è¿™ç§æ–¹æ³•æå¤§åœ°å‡å°‘äº†å¯è®­ç»ƒå‚æ•°ï¼Œä½¿åœ¨æ¶ˆè´¹çº§ç¡¬ä»¶ä¸Šå¾®è°ƒå¤§æ¨¡å‹æˆä¸ºå¯èƒ½ã€‚

#### LoRAï¼ˆLow-Rank Adaptationï¼‰

##### æ ¸å¿ƒåŸç†ï¼šä½ç§©çŸ©é˜µåˆ†è§£

LoRAçš„æ ¸å¿ƒåŸç†åŸºäºä¸€ä¸ªå…³é”®å‡è®¾ï¼šæ¨¡å‹åœ¨é€‚åº”æ–°ä»»åŠ¡æ—¶ï¼Œå…¶æƒé‡çŸ©é˜µçš„å˜åŒ–æ˜¯ä½ç§©çš„ã€‚å› æ­¤ï¼ŒLoRAå¹¶ä¸ç›´æ¥æ›´æ–°åŸå§‹æ¨¡å‹ä¸­åºå¤§çš„æƒé‡çŸ©é˜µï¼Œè€Œæ˜¯å†»ç»“è¿™äº›æƒé‡ï¼Œå¹¶åœ¨å…¶æ—è·¯å¼•å…¥ä¸€å¯¹å¯è®­ç»ƒçš„ä½ç§©çŸ©é˜µAå’ŒBã€‚

<div className="finetune-math-formula">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem' }}>LoRAæ•°å­¦è¡¨è¾¾</p>
  <div style={{ fontFamily: 'monospace', fontSize: '1.25rem', marginBottom: '0.5rem' }}>W' = W + BA</div>
  <p style={{ fontSize: '0.75rem', marginTop: '0.5rem', color: 'var(--finetune-text-secondary)' }}>
    å…¶ä¸­ï¼šWæ˜¯é¢„è®­ç»ƒæƒé‡çŸ©é˜µ(dÃ—d)ï¼ŒAæ˜¯ä½ç§©çŸ©é˜µ(dÃ—r)ï¼ŒBæ˜¯ä½ç§©çŸ©é˜µ(rÃ—d)ï¼Œræ˜¯ç§©ï¼ˆé€šå¸¸ä¸º16æˆ–32ï¼‰
  </p>
  <p style={{ fontSize: '0.75rem', marginTop: '0.5rem', color: 'var(--finetune-text-secondary)' }}>
    å‚æ•°é‡å¯¹æ¯”ï¼šåŸå§‹æƒé‡dÂ²ï¼ŒLoRAå‚æ•°2drï¼Œå½“r=16æ—¶ï¼Œå‚æ•°é‡å‡å°‘çº¦d/(2r)å€
  </p>
</div>

<CodeBlock language="python" title="PyTorchå®ç°ï¼šLoRAå¾®è°ƒ">
{`import torch
import torch.nn as nn
from transformers import AutoModelForCausalLM

class LoRALayer(nn.Module):
    """LoRAå±‚å®ç°"""
    def __init__(self, in_features, out_features, rank=16, alpha=32):
        super(LoRALayer, self).__init__()
        self.rank = rank
        self.alpha = alpha
        
        # ä½ç§©çŸ©é˜µAå’ŒB
        self.lora_A = nn.Parameter(torch.randn(rank, in_features) * 0.02)
        self.lora_B = nn.Parameter(torch.zeros(out_features, rank))
        
        # ç¼©æ”¾å› å­
        self.scaling = alpha / rank
    
    def forward(self, x):
        # x: (batch_size, seq_len, in_features)
        # LoRAå˜æ¢: x @ A^T @ B^T * scaling
        return x @ self.lora_A.T @ self.lora_B.T * self.scaling

class LoRAModel(nn.Module):
    """LoRAå¾®è°ƒæ¨¡å‹"""
    def __init__(self, base_model_name, rank=16, alpha=32):
        super(LoRAModel, self).__init__()
        # åŠ è½½é¢„è®­ç»ƒæ¨¡å‹
        self.base_model = AutoModelForCausalLM.from_pretrained(
            base_model_name,
            torch_dtype=torch.float16
        )
        
        # å†»ç»“åŸºç¡€æ¨¡å‹å‚æ•°
        for param in self.base_model.parameters():
            param.requires_grad = False
        
        # ä¸ºæ³¨æ„åŠ›å±‚æ·»åŠ LoRA
        self.lora_layers = nn.ModuleDict()
        for name, module in self.base_model.named_modules():
            if 'q_proj' in name or 'v_proj' in name:
                in_features = module.in_features
                out_features = module.out_features
                self.lora_layers[name] = LoRALayer(
                    in_features, out_features, rank, alpha
                )
    
    def forward(self, input_ids, attention_mask=None, labels=None):
        # è·å–åŸºç¡€æ¨¡å‹è¾“å‡º
        outputs = self.base_model(
            input_ids=input_ids,
            attention_mask=attention_mask,
            labels=labels
        )
        
        # åº”ç”¨LoRAå˜æ¢ï¼ˆç®€åŒ–ç¤ºä¾‹ï¼‰
        # å®é™…å®ç°ä¸­éœ€è¦æ›´å¤æ‚çš„hookæœºåˆ¶
        
        return outputs`}
</CodeBlock>

<div className="finetune-grid finetune-grid-2">
  <div>
    <h6 style={{ fontWeight: 600, marginBottom: '0.5rem' }}>æ ¸å¿ƒä¼˜åŠ¿</h6>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ“ æå¤§é™ä½è®¡ç®—å’Œå­˜å‚¨æˆæœ¬</li>
      <li>âœ“ æ€§èƒ½æ¥è¿‘å…¨å‚æ•°å¾®è°ƒ</li>
      <li>âœ“ é¿å…ç¾éš¾æ€§é—å¿˜</li>
      <li>âœ“ è®­ç»ƒç¨³å®šï¼Œä¸æ˜“è¿‡æ‹Ÿåˆ</li>
    </ul>
  </div>
  <div>
    <h6 style={{ fontWeight: 600, marginBottom: '0.5rem' }}>å…¸å‹åº”ç”¨</h6>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>â†’ æŒ‡ä»¤å¾®è°ƒ</li>
      <li>â†’ é¢†åŸŸçŸ¥è¯†æ³¨å…¥</li>
      <li>â†’ å¤šè½®å¯¹è¯ä¼˜åŒ–</li>
      <li>â†’ å¤šä»»åŠ¡æœåŠ¡</li>
    </ul>
  </div>
</div>

#### QLoRAï¼ˆQuantized LoRAï¼‰

##### æ ¸å¿ƒåŸç†ï¼š4ä½é‡åŒ–

QLoRAåœ¨LoRAåŸºç¡€ä¸Šè¿›è¡Œé‡å¤§æ•ˆç‡é©å‘½ï¼Œå°†æ¨¡å‹é‡åŒ–æŠ€æœ¯ä¸LoRAçš„ä½ç§©é€‚é…æ€æƒ³ç›¸ç»“åˆã€‚å…¶æ ¸å¿ƒåˆ›æ–°åœ¨äºï¼Œé¦–å…ˆå°†é¢„è®­ç»ƒæ¨¡å‹çš„åŸºåº§æƒé‡è¿›è¡Œ<strong>4-bité‡åŒ–</strong>ï¼Œç„¶åå†åº”ç”¨LoRAå¾®è°ƒã€‚

QLoRAé‡‡ç”¨äº†<strong>4-bit NormalFloat (NF4)</strong>é‡åŒ–æ–¹æ³•ï¼Œå¯¹æ­£æ€åˆ†å¸ƒæ•°æ®ç‰¹åˆ«æœ‰æ•ˆã€‚åŒæ—¶å¼•å…¥<strong>Double Quantization</strong>æŠ€æœ¯ï¼Œå¯¹é‡åŒ–å¸¸æ•°æœ¬èº«ä¹Ÿè¿›è¡Œé‡åŒ–ï¼Œè¿›ä¸€æ­¥å‡å°‘å†…å­˜å ç”¨ã€‚

<div className="finetune-math-formula">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem' }}>é‡åŒ–å…¬å¼</p>
  <div style={{ marginBottom: '0.5rem' }}>
    <div style={{ fontFamily: 'monospace', fontSize: '1rem', marginBottom: '0.25rem' }}>Q(x) = round(x / scale) + zero_point</div>
    <div style={{ fontFamily: 'monospace', fontSize: '1rem' }}>dequantize: x' = (Q(x) - zero_point) Ã— scale</div>
  </div>
  <p style={{ fontSize: '0.75rem', marginTop: '0.5rem', color: 'var(--finetune-text-secondary)' }}>
    NF4é‡åŒ–ï¼šä½¿ç”¨4ä½NormalFloaté‡åŒ–ï¼Œé’ˆå¯¹æ­£æ€åˆ†å¸ƒæƒé‡ä¼˜åŒ–
  </p>
</div>

<CodeBlock language="python" title="ä½¿ç”¨bitsandbyteså®ç°QLoRA">
{`from transformers import AutoModelForCausalLM, BitsAndBytesConfig
from peft import LoraConfig, get_peft_model, prepare_model_for_kbit_training
from transformers import TrainingArguments, Trainer
import torch

# 1. é…ç½®4ä½é‡åŒ–
bnb_config = BitsAndBytesConfig(
    load_in_4bit=True,
    bnb_4bit_quant_type="nf4",  # NormalFloat4
    bnb_4bit_compute_dtype=torch.float16,
    bnb_4bit_use_double_quant=True  # åŒé‡é‡åŒ–
)

# 2. åŠ è½½é‡åŒ–æ¨¡å‹
model = AutoModelForCausalLM.from_pretrained(
    "meta-llama/Llama-2-7b-hf",
    quantization_config=bnb_config,
    device_map="auto"
)

# 3. å‡†å¤‡æ¨¡å‹ç”¨äºk-bitè®­ç»ƒ
model = prepare_model_for_kbit_training(model)

# 4. é…ç½®LoRA
lora_config = LoraConfig(
    r=16,  # ç§©
    lora_alpha=32,  # ç¼©æ”¾å› å­
    target_modules=["q_proj", "v_proj", "k_proj", "o_proj"],
    lora_dropout=0.05,
    bias="none",
    task_type="CAUSAL_LM"
)

# 5. åº”ç”¨LoRA
model = get_peft_model(model, lora_config)

# 6. è®­ç»ƒé…ç½®
training_args = TrainingArguments(
    output_dir="./results",
    per_device_train_batch_size=4,
    gradient_accumulation_steps=4,
    learning_rate=2e-4,
    num_train_epochs=3,
    fp16=True,
    logging_steps=10
)

# 7. å¼€å§‹è®­ç»ƒ
trainer = Trainer(
    model=model,
    args=training_args,
    train_dataset=train_dataset,
    data_collator=data_collator
)

trainer.train()`}
</CodeBlock>

<div className="finetune-highlight-box" style={{ borderLeftColor: 'var(--finetune-primary-light)' }}>
  <p style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--finetune-primary-light)' }}>çªç ´æ€§è¿›å±•</p>
  <p>
    QLoRAå¯å°†<span className="finetune-number-highlight">65B</span>å‚æ•°çš„LLaMAæ¨¡å‹å†…å­˜å ç”¨ä»<span className="finetune-number-highlight">100GB+</span>é™è‡³<span className="finetune-number-highlight">40GB</span>ä»¥ä¸‹ï¼Œä½¿åœ¨å•å¼ <span className="finetune-number-highlight">24GB</span>æˆ–<span className="finetune-number-highlight">48GB</span>æ¶ˆè´¹çº§GPUä¸Šå¾®è°ƒè¶…å¤§æ¨¡å‹æˆä¸ºç°å®ã€‚å°½ç®¡å¼•å…¥é‡åŒ–æ“ä½œï¼ŒQLoRAåœ¨ä¸‹æ¸¸ä»»åŠ¡ä¸Šçš„æ€§èƒ½è¡¨ç°ä¾ç„¶å‡ºè‰²ï¼Œé€šå¸¸èƒ½ä¸æ ‡å‡†LoRAç›¸åª²ç¾ï¼Œç”šè‡³è¡¨ç°æ›´ä¼˜ã€‚
  </p>
</div>

#### å…¶ä»–PEFTæ–¹æ³•

é™¤äº†LoRAå’ŒQLoRAï¼ŒPEFTé¢†åŸŸè¿˜æ¶Œç°å‡ºå…¶ä»–å¤šç§æœ‰æ•ˆçš„æ–¹æ³•ã€‚

| æ–¹æ³• | æ ¸å¿ƒæ€æƒ³ | å‚æ•°é‡å æ¯” | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|---------|-----------|------|------|
| Adapter | æ’å…¥å°å‹ç¥ç»ç½‘ç»œ | ä¸­ç­‰ (<span className="finetune-number-highlight">5%-15%</span>) | å®ç°ç®€å•ï¼Œæ€§èƒ½ç¨³å®š | å¢åŠ æ¨ç†å»¶è¿Ÿ |
| IA3 | ç¼©æ”¾å†…éƒ¨æ¿€æ´» | æä½ (&lt;<span className="finetune-number-highlight">0.1%</span>) | å‚æ•°é‡æå°‘ | æ€§èƒ½å¯èƒ½ç•¥é€ŠäºLoRA |

### æç¤ºå¾®è°ƒï¼ˆPrompt Tuningï¼‰æŠ€æœ¯

æç¤ºå¾®è°ƒä¸PEFTçš„æ ¸å¿ƒæ€æƒ³ä¸åŒã€‚PEFTé€šè¿‡ä¿®æ”¹æ¨¡å‹å†…éƒ¨ç»“æ„å®ç°å¾®è°ƒï¼Œè€Œæç¤ºå¾®è°ƒä¸“æ³¨äºä¼˜åŒ–è¾“å…¥ç»™æ¨¡å‹çš„"æç¤º"ï¼ˆPromptï¼‰ã€‚å®ƒå°†æç¤ºæœ¬èº«ä½œä¸ºå¯è®­ç»ƒçš„å‚æ•°ï¼Œåˆ©ç”¨æ¢¯åº¦ä¸‹é™ç­‰ä¼˜åŒ–ç®—æ³•æ¥è‡ªåŠ¨å­¦ä¹ æœ€ä¼˜çš„æç¤ºã€‚

#### Prompt Tuningï¼šå­¦ä¹ "è½¯æç¤º"

##### æ ¸å¿ƒåŸç†ï¼šå¯è®­ç»ƒçš„è¿ç»­å‘é‡

Prompt Tuningçš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨æ¨¡å‹çš„è¾“å…¥åµŒå…¥å±‚å‰ï¼Œæ‹¼æ¥ä¸Šä¸€æ®µå¯è®­ç»ƒçš„è¿ç»­å‘é‡ï¼Œè¿™äº›å‘é‡è¢«ç§°ä¸º<strong>"è½¯æç¤º"ï¼ˆSoft Promptï¼‰</strong>æˆ–"è™šæ‹Ÿä»¤ç‰Œ"ã€‚

ä¸ç¦»æ•£çš„æ–‡æœ¬æç¤ºä¸åŒï¼Œè¿™äº›è½¯æç¤ºæ˜¯æ¨¡å‹æ— æ³•ç›´æ¥è§£è¯»çš„è¿ç»­æ•°å€¼å‘é‡ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒåŸå§‹æ¨¡å‹çš„æ‰€æœ‰å‚æ•°éƒ½è¢«å†»ç»“ï¼Œåªæœ‰è¿™äº›è½¯æç¤ºå‘é‡ä¼šé€šè¿‡åå‘ä¼ æ’­è¿›è¡Œæ›´æ–°ã€‚

<div className="finetune-highlight-box">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--finetune-primary)' }}>è§„æ¨¡çš„åŠ›é‡</p>
  <p>
    Prompt Tuningçš„æ€§èƒ½ä¸æ¨¡å‹è§„æ¨¡é«˜åº¦ç›¸å…³ã€‚ç ”ç©¶è¡¨æ˜ï¼Œåªæœ‰å½“æ¨¡å‹è§„æ¨¡è¶³å¤Ÿå¤§æ—¶ï¼ˆä¾‹å¦‚è¶…è¿‡<span className="finetune-number-highlight">10B</span>å‚æ•°ï¼‰ï¼Œå…¶æ€§èƒ½æ‰èƒ½é€¼è¿‘å…¨å‚æ•°å¾®è°ƒã€‚
  </p>
</div>

<div className="finetune-grid finetune-grid-2">
  <div className="finetune-card-success">
    <h6 style={{ color: 'var(--ifm-color-success)', fontWeight: 600, marginBottom: '0.75rem' }}>ä¼˜åŠ¿</h6>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ“ æè‡´çš„å‚æ•°æ•ˆç‡ï¼ˆ<span className="finetune-number-highlight">0.01%</span>å‚æ•°ï¼‰</li>
      <li>âœ“ é€‚ç”¨äº"é»‘ç›’"æ¨¡å‹API</li>
      <li>âœ“ å®Œå…¨ä¿ç•™é¢„è®­ç»ƒçŸ¥è¯†</li>
    </ul>
  </div>
  <div className="finetune-card-danger">
    <h6 style={{ color: 'var(--ifm-color-danger)', fontWeight: 600, marginBottom: '0.75rem' }}>å±€é™</h6>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ— é«˜åº¦ä¾èµ–æ¨¡å‹è§„æ¨¡</li>
      <li>âœ— å¤æ‚æ¨ç†èƒ½åŠ›æœ‰é™</li>
      <li>âœ— å¯¹æ·±å±‚è¡¨å¾å½±å“é—´æ¥</li>
    </ul>
  </div>
</div>

#### Prefix Tuningï¼šå‰ç¼€å¾®è°ƒ

##### æ ¸å¿ƒåŸç†ï¼šæ¯å±‚æ·»åŠ å¯è®­ç»ƒå‘é‡

Prefix Tuningæ˜¯Prompt Tuningçš„æ‰©å±•ï¼Œé€šè¿‡åœ¨æ¨¡å‹çš„æ¯ä¸€å±‚éƒ½æ·»åŠ å¯è®­ç»ƒçš„å‰ç¼€å‘é‡ï¼Œå®ç°æ›´å¼ºçš„ä»»åŠ¡é€‚é…èƒ½åŠ›ã€‚å®ƒä¸ä»…å½±å“è¾“å…¥å±‚ï¼Œè¿˜åœ¨Transformerçš„æ¯ä¸ªæ³¨æ„åŠ›å±‚ä¸­å°†å¯è®­ç»ƒå‰ç¼€æ‹¼æ¥åˆ°Keyå’ŒValueçŸ©é˜µå‰ã€‚

ä¸ºç¨³å®šè®­ç»ƒï¼ŒPrefix Tuningé€šå¸¸é‡‡ç”¨<strong>é‡å‚æ•°åŒ–</strong>æŠ€å·§ï¼šå…ˆå­¦ä¹ è¾ƒå°çš„å‰ç¼€å‚æ•°çŸ©é˜µï¼Œå†é€šè¿‡MLPæ˜ å°„åˆ°å®é™…ç”¨äºæ³¨æ„åŠ›è®¡ç®—çš„é«˜ç»´å‰ç¼€å‘é‡ã€‚è®­ç»ƒå®Œæˆåï¼ŒMLPå¯è¢«ä¸¢å¼ƒã€‚

| ç‰¹æ€§ | Prompt Tuning | Prefix Tuning |
|------|--------------|--------------|
| å‚æ•°ä½ç½® | ä»…åœ¨è¾“å…¥åµŒå…¥å±‚ | Transformeræ¯ä¸€å±‚ |
| å‚æ•°é‡ | æå°‘ | ç›¸å¯¹è¾ƒå¤š |
| è¡¨è¾¾èƒ½åŠ› | ç›¸å¯¹è¾ƒå¼± | æ›´å¼ºï¼Œèƒ½æ·±å±‚å½±å“æ¨¡å‹ |
| é€‚ç”¨ä»»åŠ¡ | åˆ†ç±»å’Œç®€å•ç”Ÿæˆ | å¤æ‚ç”Ÿæˆå’Œå¤šè½®å¯¹è¯ |

### åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰

#### æ ¸å¿ƒåŸç†ï¼šåˆ©ç”¨äººç±»åå¥½ä¼˜åŒ–æ¨¡å‹è¾“å‡º

RLHFçš„æ ¸å¿ƒç›®æ ‡æ˜¯è®©å¤§è¯­è¨€æ¨¡å‹çš„è¾“å‡ºæ›´ç¬¦åˆäººç±»çš„ä»·å€¼è§‚ã€åå¥½å’ŒæœŸæœ›ã€‚ä¸ä»…ä¾èµ–æ•°æ®æ¨¡ä»¿çš„SFTä¸åŒï¼ŒRLHFå¼•å…¥å…³é”®çš„"äººç±»åé¦ˆ"ç¯èŠ‚ï¼Œå°†äººçš„åˆ¤æ–­åŠ›èå…¥æ¨¡å‹ä¼˜åŒ–å¾ªç¯ã€‚

<div className="finetune-card">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '1.5rem', fontSize: '1.125rem' }}>RLHFä¸‰æ­¥éª¤</h5>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '1.25rem' }}>
    <div className="finetune-step-item">
      <div className="finetune-step-number primary">1</div>
      <div className="finetune-step-content">
        <h6>ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰</h6>
        <p>ä½¿ç”¨é«˜è´¨é‡"æŒ‡ä»¤-å›ç­”"æ•°æ®é›†è¿›è¡Œåˆæ­¥å¾®è°ƒ</p>
      </div>
    </div>
    <div className="finetune-step-item">
      <div className="finetune-step-number accent">2</div>
      <div className="finetune-step-content">
        <h6>è®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼ˆRMï¼‰</h6>
        <p>æ”¶é›†äººç±»å¯¹å›ç­”çš„åå¥½æ’åºï¼Œè®­ç»ƒå¥–åŠ±æ¨¡å‹</p>
      </div>
    </div>
    <div className="finetune-step-item">
      <div className="finetune-step-number secondary">3</div>
      <div className="finetune-step-content">
        <h6>å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–</h6>
        <p>åœ¨å¥–åŠ±æ¨¡å‹æŒ‡å¯¼ä¸‹è¿›è¡ŒRLè®­ç»ƒï¼Œä¼˜åŒ–ç­–ç•¥</p>
      </div>
    </div>
  </div>
</div>

<div className="finetune-math-formula">
  <p style={{ fontWeight: 600, marginBottom: '0.5rem' }}>PPOç›®æ ‡å‡½æ•°</p>
  <div style={{ marginBottom: '0.5rem' }}>
    <div style={{ fontFamily: 'monospace', fontSize: '1rem', marginBottom: '0.25rem' }}>L^CLIP(Î¸) = E[min(r(Î¸)A, clip(r(Î¸), 1-Îµ, 1+Îµ)A)]</div>
    <div style={{ fontFamily: 'monospace', fontSize: '1rem' }}>å…¶ä¸­ r(Î¸) = Ï€_Î¸(a|s) / Ï€_Î¸_old(a|s)</div>
  </div>
  <p style={{ fontSize: '0.75rem', marginTop: '0.5rem', color: 'var(--finetune-text-secondary)' }}>
    Aæ˜¯ä¼˜åŠ¿å‡½æ•°ï¼ŒÎµæ˜¯è£å‰ªå‚æ•°ï¼ˆé€šå¸¸ä¸º0.2ï¼‰ï¼Œé˜²æ­¢ç­–ç•¥æ›´æ–°è¿‡å¤§
  </p>
</div>

<CodeBlock language="python" title="RLHFå®ç°">
{`from transformers import AutoModelForCausalLM, AutoTokenizer
from trl import PPOTrainer, PPOConfig, AutoModelForCausalLMWithValueHead
from trl.core import LengthSampler
import torch

# 1. åŠ è½½SFTæ¨¡å‹
model = AutoModelForCausalLMWithValueHead.from_pretrained(
    "sft_model_path"
)
tokenizer = AutoTokenizer.from_pretrained("sft_model_path")

# 2. åŠ è½½å¥–åŠ±æ¨¡å‹
reward_model = AutoModelForCausalLM.from_pretrained(
    "reward_model_path"
)

# 3. é…ç½®PPOè®­ç»ƒ
ppo_config = PPOConfig(
    model_name="sft_model_path",
    learning_rate=1.41e-5,
    batch_size=128,
    mini_batch_size=4,
    gradient_accumulation_steps=1,
    optimize_cuda_cache=True,
)

# 4. åˆ›å»ºPPOè®­ç»ƒå™¨
ppo_trainer = PPOTrainer(
    config=ppo_config,
    model=model,
    ref_model=None,  # å¯ä»¥ä½¿ç”¨å‚è€ƒæ¨¡å‹
    tokenizer=tokenizer,
)

# 5. è®­ç»ƒå¾ªç¯
for epoch in range(ppo_config.num_ppo_epochs):
    for batch in dataloader:
        # ç”Ÿæˆå›ç­”
        query_tensors = batch["input_ids"]
        response_tensors = ppo_trainer.generate(
            query_tensors,
            return_prompt=False,
            length_sampler=LengthSampler(max_length=512),
        )
        
        # è®¡ç®—å¥–åŠ±
        rewards = []
        for response in response_tensors:
            reward = reward_model.get_reward(response)
            rewards.append(reward)
        
        # PPOæ›´æ–°
        stats = ppo_trainer.step(
            query_tensors,
            response_tensors,
            rewards
        )`}
</CodeBlock>

#### åº”ç”¨åœºæ™¯ï¼šæå‡æ¨¡å‹çš„å®‰å…¨æ€§ä¸æœ‰ç”¨æ€§

RLHFçš„ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯æå‡å¤§æ¨¡å‹çš„<strong>å®‰å…¨æ€§ï¼ˆSafetyï¼‰</strong>å’Œ<strong>æœ‰ç”¨æ€§ï¼ˆHelpfulnessï¼‰</strong>ï¼Œåœ¨æ„å»ºé«˜è´¨é‡ã€å¯ä¿¡èµ–çš„å¯¹è¯å¼AIä¸­è‡³å…³é‡è¦ã€‚

<div className="finetune-grid finetune-grid-2">
  <div className="finetune-card-success">
    <h5 style={{ color: 'var(--ifm-color-success)', fontWeight: 600, marginBottom: '0.75rem' }}>æå‡æœ‰ç”¨æ€§</h5>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ“ ç”Ÿæˆæ›´å…·ä¿¡æ¯æ€§çš„å›ç­”</li>
      <li>âœ“ æä¾›èƒŒæ™¯çŸ¥è¯†å’Œæ¨ç†è¿‡ç¨‹</li>
      <li>âœ“ ç»™å‡ºå¤šç§è§£å†³æ–¹æ¡ˆ</li>
    </ul>
  </div>
  <div className="finetune-card-info">
    <h5 style={{ color: 'var(--ifm-color-info)', fontWeight: 600, marginBottom: '0.75rem' }}>æå‡å®‰å…¨æ€§</h5>
    <ul style={{ fontSize: '0.875rem' }}>
      <li>âœ“ æ‹’ç»æœ‰å®³é—®é¢˜å›ç­”</li>
      <li>âœ“ å‡å°‘"å¹»è§‰"ç”Ÿæˆ</li>
      <li>âœ“ ç¡®ä¿å†…å®¹ç¬¦åˆä»·å€¼è§‚</li>
    </ul>
  </div>
</div>

### å¾®è°ƒæ–¹æ³•å¯¹æ¯”åˆ†æ

<FineTuningComparison />

## å››ã€ç‰¹å®šé¢†åŸŸçš„å¾®è°ƒå®è·µä¸åº”ç”¨æ¡ˆä¾‹

### åŒ»ç–—é¢†åŸŸï¼šä¸“ä¸šçŸ¥è¯†çš„ç²¾å‡†æ³¨å…¥

#### æŒ‘æˆ˜ä¸ç›®æ ‡

åŒ»ç–—å¥åº·é¢†åŸŸå› å…¶é«˜åº¦ä¸“ä¸šæ€§ã€ä¸¥è°¨é€»è¾‘æ€§å’Œå¯¹å®‰å…¨æ€§çš„æè‡´è¦æ±‚ï¼Œæˆä¸ºå¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯æœ€å…·æŒ‘æˆ˜æ€§ä¹Ÿæœ€å…·ä»·å€¼çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€ã€‚é€šç”¨å¤§æ¨¡å‹åœ¨é¢å¯¹å¤æ‚çš„åŒ»å­¦æœ¯è¯­ã€å¾ªè¯åŒ»å­¦æ¨ç†é“¾æ¡æ—¶ï¼Œå¾€å¾€æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚

<div className="finetune-grid finetune-grid-3">
  <div className="finetune-card">
    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '0.75rem' }}>
      <span style={{ fontSize: '1.5rem', marginRight: '0.5rem', color: 'var(--finetune-primary)' }}>ğŸ©º</span>
      <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, margin: 0 }}>ç†è§£åŒ»å­¦æœ¯è¯­</h5>
    </div>
    <p style={{ fontSize: '0.875rem' }}>å‡†ç¡®ç†è§£å’Œè¿ç”¨æµ·é‡åŒ»å­¦æœ¯è¯­ã€è¯ç‰©åç§°ã€ç–¾ç—…åˆ†ç±»ç­‰ä¸“ä¸šçŸ¥è¯†</p>
  </div>
  <div className="finetune-card">
    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '0.75rem' }}>
      <span style={{ fontSize: '1.5rem', marginRight: '0.5rem', color: 'var(--finetune-primary-light)' }}>ğŸ§ </span>
      <h5 style={{ color: 'var(--finetune-primary-light)', fontWeight: 600, margin: 0 }}>éµå¾ªåŒ»ç–—é€»è¾‘</h5>
    </div>
    <p style={{ fontSize: '0.875rem' }}>å­¦ä¹ å¹¶éµå¾ªå¾ªè¯åŒ»å­¦çš„ä¸¥è°¨æ¨ç†è¿‡ç¨‹ï¼Œè¿›è¡Œé‰´åˆ«è¯Šæ–­</p>
  </div>
  <div className="finetune-card">
    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '0.75rem' }}>
      <span style={{ fontSize: '1.5rem', marginRight: '0.5rem', color: 'var(--finetune-text-secondary)' }}>ğŸ›¡ï¸</span>
      <h5 style={{ color: 'var(--finetune-text-secondary)', fontWeight: 600, margin: 0 }}>å‡å°‘"å¹»è§‰"</h5>
    </div>
    <p style={{ fontSize: '0.875rem' }}>ç¡®ä¿è¾“å‡ºå‡†ç¡®æ€§å’Œå®‰å…¨æ€§ï¼Œæœ€å¤§é™åº¦å‡å°‘è™šæ„ä¿¡æ¯äº§ç”Ÿ</p>
  </div>
</div>

#### å®è·µæ¡ˆä¾‹ï¼šMed-PaLM 2

è°·æ­Œçš„Med-PaLM 2æ˜¯åŒ»ç–—é¢†åŸŸå¤§æ¨¡å‹å¾®è°ƒçš„æ ‡æ†æ€§æ¡ˆä¾‹ï¼Œå…¶åœ¨å¤šä¸ªåŒ»å­¦é—®ç­”åŸºå‡†æµ‹è¯•ä¸­å–å¾—æ¥è¿‘ç”šè‡³è¶…è¶Šäººç±»ä¸“å®¶æ°´å¹³ã€‚

<div className="finetune-card">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.75rem' }}>æ•°æ®é›†æ„å»º</h5>
  <p style={{ fontSize: '0.875rem', marginBottom: '0.5rem' }}>
    Med-PaLM 2å……åˆ†åˆ©ç”¨äº†è°·æ­Œå‘å¸ƒçš„<strong>MultiMedQA</strong>åŸºå‡†æµ‹è¯•é›†ï¼Œæ¶µç›–å¤šç§åŒ»ç–—é—®ç­”åœºæ™¯ï¼š
  </p>
  <ul style={{ fontSize: '0.875rem', paddingLeft: '1.5rem' }}>
    <li>â€¢ MedQAï¼šæ¨¡æ‹Ÿç¾å›½åŒ»å¸ˆæ‰§ç…§è€ƒè¯•ï¼ˆUSMLEï¼‰</li>
    <li>â€¢ MedMCQAï¼šå°åº¦åŒ»å­¦å…¥å­¦è€ƒè¯•</li>
    <li>â€¢ HealthSearchQAï¼šçœŸå®ç”¨æˆ·æœç´¢æŸ¥è¯¢</li>
  </ul>
</div>

<div className="finetune-highlight-box">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '1rem' }}>æ ¸å¿ƒå¾®è°ƒæ–¹æ³•</h5>
  <ul style={{ fontSize: '0.875rem', listStyle: 'none', padding: 0, margin: 0 }}>
    <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'flex-start' }}>
      <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.75rem', fontSize: '1.125rem', lineHeight: '1.5', flexShrink: 0 }}>âœ“</span>
      <span style={{ color: 'var(--finetune-text)' }}><strong>æŒ‡ä»¤å¾®è°ƒ</strong>ï¼šåŸºäºFlanæ¡†æ¶ï¼Œä½¿æ¨¡å‹å­¦ä¼šç†è§£å¹¶éµå¾ªäººç±»æŒ‡ä»¤</span>
    </li>
    <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'flex-start' }}>
      <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.75rem', fontSize: '1.125rem', lineHeight: '1.5', flexShrink: 0 }}>âœ“</span>
      <span style={{ color: 'var(--finetune-text)' }}><strong>æ€ç»´é“¾ï¼ˆCoTï¼‰æç¤º</strong>ï¼šå¼•å¯¼æ¨¡å‹è¿›è¡Œå¤šæ­¥é€»è¾‘æ¨ç†</span>
    </li>
    <li style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'flex-start' }}>
      <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.75rem', fontSize: '1.125rem', lineHeight: '1.5', flexShrink: 0 }}>âœ“</span>
      <span style={{ color: 'var(--finetune-text)' }}><strong>è‡ªä¸€è‡´æ€§ï¼ˆSCï¼‰</strong>ï¼šé€šè¿‡å¤šæ¬¡æ¨ç†æŠ•ç¥¨å‡å°‘éšæœºæ€§é”™è¯¯</span>
    </li>
    <li style={{ display: 'flex', alignItems: 'flex-start' }}>
      <span style={{ color: 'var(--ifm-color-success)', marginRight: '0.75rem', fontSize: '1.125rem', lineHeight: '1.5', flexShrink: 0 }}>âœ“</span>
      <span style={{ color: 'var(--finetune-text)' }}><strong>é›†æˆä¼˜åŒ–ï¼ˆERï¼‰</strong>ï¼šå¯¹å¤šä¸ªå€™é€‰å›å¤è¿›è¡Œæ‰¹åˆ¤æ€§è¯„ä¼°å’Œæ•´åˆ</span>
    </li>
  </ul>
</div>

<div className="finetune-highlight-box" style={{ borderLeftColor: 'var(--finetune-primary-light)' }}>
  <p style={{ fontWeight: 600, marginBottom: '1rem', color: 'var(--finetune-primary-light)' }}>å“è¶Šæˆæœ</p>
  <div className="finetune-grid finetune-grid-2" style={{ margin: '1rem 0', gap: '1rem' }}>
    <div className="finetune-stat-card">
      <div className="finetune-stat-number" style={{ fontSize: '2.25rem' }}>67.2%</div>
      <div className="finetune-stat-label">åˆä»£Med-PaLMå‡†ç¡®ç‡</div>
      <div className="finetune-stat-desc">MedQAæ•°æ®é›†</div>
    </div>
    <div className="finetune-stat-card">
      <div className="finetune-stat-number" style={{ fontSize: '2.25rem' }}>86.5%</div>
      <div className="finetune-stat-label">Med-PaLM 2å‡†ç¡®ç‡</div>
      <div className="finetune-stat-desc">æå‡19.3ä¸ªç™¾åˆ†ç‚¹</div>
    </div>
  </div>
  <p style={{ marginTop: '1rem', marginBottom: 0 }}>
    é€šè¿‡è¿™ä¸€ç³»ç»Ÿæ€§å¾®è°ƒä¸ä¼˜åŒ–ï¼ŒMed-PaLM 2åœ¨MedQAæ•°æ®é›†ä¸Šçš„å‡†ç¡®ç‡ä»åˆä»£Med-PaLMçš„<span className="finetune-number-highlight">67.2%</span>å¤§å¹…æå‡è‡³<span className="finetune-number-highlight">86.5%</span>ï¼Œå¹¶åœ¨å¤šé¡¹äººå·¥è¯„ä¼°ä¸­ï¼Œå…¶å›ç­”åœ¨äº‹å®æ€§ã€åŒ»å­¦æ¨ç†èƒ½åŠ›å’Œä½å±å®³æ€§ç­‰ç»´åº¦ä¸Šä¼˜äºäººç±»åŒ»ç”Ÿçš„å›ç­”ã€‚
  </p>
</div>

### æ³•å¾‹é¢†åŸŸï¼šç²¾å‡†ç†è§£ä¸åˆè§„ç”Ÿæˆ

æ³•å¾‹é¢†åŸŸå¯¹å‡†ç¡®æ€§ã€é€»è¾‘æ€§å’Œåˆè§„æ€§è¦æ±‚æé«˜ï¼Œå¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯åœ¨è¿™ä¸€é¢†åŸŸå±•ç°å‡ºå·¨å¤§æ½œåŠ›ã€‚

<div className="finetune-card">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.75rem' }}>åº”ç”¨åœºæ™¯</h5>
  <ul style={{ fontSize: '0.875rem', paddingLeft: '1.5rem' }}>
    <li>â€¢ æ³•å¾‹æ¡æ–‡è§£é‡Šä¸æŸ¥è¯¢</li>
    <li>â€¢ åˆåŒå®¡æŸ¥ä¸ç”Ÿæˆ</li>
    <li>â€¢ æ¡ˆä¾‹åˆ†æä¸åˆ¤ä¾‹æ£€ç´¢</li>
    <li>â€¢ æ³•å¾‹æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ</li>
  </ul>
</div>

### ä»£ç ç”Ÿæˆé¢†åŸŸï¼šæå‡ç¼–ç¨‹èƒ½åŠ›

ä»£ç ç”Ÿæˆæ˜¯å¤§æ¨¡å‹å¾®è°ƒçš„é‡è¦åº”ç”¨æ–¹å‘ï¼Œé€šè¿‡å¾®è°ƒå¯ä»¥æ˜¾è‘—æå‡æ¨¡å‹åœ¨ç‰¹å®šç¼–ç¨‹è¯­è¨€ã€æ¡†æ¶æˆ–é¢†åŸŸçš„ä»£ç ç”Ÿæˆèƒ½åŠ›ã€‚

<div className="finetune-card">
  <h5 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.75rem' }}>å…¸å‹åº”ç”¨</h5>
  <ul style={{ fontSize: '0.875rem', paddingLeft: '1.5rem' }}>
    <li>â€¢ CodeLlamaï¼šä¸“é—¨é’ˆå¯¹ä»£ç ç”Ÿæˆä¼˜åŒ–çš„æ¨¡å‹</li>
    <li>â€¢ GitHub Copilotï¼šåŸºäºCodexæ¨¡å‹çš„ä»£ç è¡¥å…¨å·¥å…·</li>
    <li>â€¢ ç‰¹å®šæ¡†æ¶é€‚é…ï¼šé’ˆå¯¹Reactã€Vueç­‰å‰ç«¯æ¡†æ¶çš„å¾®è°ƒ</li>
    <li>â€¢ ä»£ç å®¡æŸ¥ä¸ä¼˜åŒ–å»ºè®®</li>
  </ul>
</div>

## äº”ã€æ€»ç»“ä¸å±•æœ›

### æŠ€æœ¯æ¼”è¿›æ€»ç»“

å¤§æ¨¡å‹å¾®è°ƒæŠ€æœ¯ç»å†äº†ä»æ˜‚è´µçš„å…¨å‚æ•°å¾®è°ƒåˆ°å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰çš„é©å‘½æ€§è½¬å˜ã€‚ä»¥LoRAã€QLoRAä¸ºä»£è¡¨çš„PEFTæŠ€æœ¯æå¤§åœ°é™ä½äº†è®¡ç®—é—¨æ§›ï¼Œä½¿å¾—åœ¨å•å¼ æ¶ˆè´¹çº§GPUä¸Šå¾®è°ƒå¤§æ¨¡å‹æˆä¸ºç°å®ï¼Œæ¨åŠ¨äº†AIæŠ€æœ¯çš„æ°‘ä¸»åŒ–ã€‚

åŒæ—¶ï¼Œå¾®è°ƒç®—æ³•ç»å†äº†ä»ç®€å•çš„ç›‘ç£å¾®è°ƒåˆ°å¼ºåŒ–å­¦ä¹ èŒƒå¼çš„æ¼”è¿›ã€‚RLHFã€RLVRç­‰å…ˆè¿›æ–¹æ³•å°†äººç±»ä»·å€¼è§‚å’Œåå¥½èå…¥æ¨¡å‹ä¼˜åŒ–è¿‡ç¨‹ï¼Œæ˜¾è‘—æå‡äº†æ¨¡å‹çš„å®‰å…¨æ€§å’Œæœ‰ç”¨æ€§ã€‚DeepSeek R1çš„æˆåŠŸè¯æ˜äº†RLVRèŒƒå¼åœ¨æå‡æ¨¡å‹æ¨ç†èƒ½åŠ›æ–¹é¢çš„å·¨å¤§æ½œåŠ›ã€‚

### å½“å‰å‘å±•æ ¼å±€

æˆªè‡³<span className="finetune-year-badge">2025</span>å¹´ï¼Œå¤§æ¨¡å‹é¢†åŸŸçš„ç«äº‰æ ¼å±€å‘ˆç°å‡ºæ˜æ˜¾çš„ç»“æ„æ€§åˆ†åŒ–ã€‚åŸºç¡€æ¨¡å‹å±‚é¢æŠ€æœ¯è·¯çº¿è¶‹åŒï¼Œè€Œåº”ç”¨å±‚ç«äº‰ç©ºå‰æ¿€çƒˆã€‚ä¼ä¸šçº§åº”ç”¨å·²æˆä¸ºæ¨åŠ¨å¤§æ¨¡å‹è§„æ¨¡åŒ–è½åœ°çš„ä¸»æˆ˜åœºï¼Œ"åŸºç¡€æ¨¡å‹+é¢†åŸŸå¾®è°ƒ"çš„æ··åˆæ¶æ„æˆä¸ºä¸»æµç­–ç•¥ã€‚

<div className="finetune-grid finetune-grid-3" style={{ margin: '1.5rem 0', gap: '1rem' }}>
  <div className="finetune-stat-card">
    <div className="finetune-stat-number" style={{ fontSize: '2rem' }}>2026</div>
    <div className="finetune-stat-label">é¢„è®¡Tokenæ¶ˆè€—</div>
    <div className="finetune-stat-desc">ä¼ä¸šçº§å¤§æ¨¡å‹å†ç¿»ä¸€ç•ª</div>
  </div>
  <div className="finetune-stat-card">
    <div className="finetune-stat-number" style={{ fontSize: '2rem' }}>Bç«¯</div>
    <div className="finetune-stat-label">ä»·å€¼é‡Šæ”¾æ–¹å‘</div>
    <div className="finetune-stat-desc">ä»Cç«¯å‘Bç«¯æ‰©æ•£</div>
  </div>
  <div className="finetune-stat-card">
    <div className="finetune-stat-number" style={{ fontSize: '2rem' }}>æ··åˆ</div>
    <div className="finetune-stat-label">ä¸»æµæ¶æ„</div>
    <div className="finetune-stat-desc">åŸºç¡€æ¨¡å‹+é¢†åŸŸå¾®è°ƒ</div>
  </div>
</div>

å¾®è°ƒæŠ€æœ¯åœ¨åŒ»ç–—ã€æ³•å¾‹ã€ä»£ç ç”Ÿæˆç­‰ä¸“ä¸šé¢†åŸŸå±•ç°å‡ºå·¨å¤§ä»·å€¼ï¼Œé€šè¿‡"åŸºç¡€æ¨¡å‹+é¢†åŸŸå¾®è°ƒ"çš„æ¨¡å¼ï¼ŒAIæ­£åœ¨ä»é€šç”¨å·¥å…·è½¬å˜ä¸ºå„è¡Œå„ä¸šçš„"ä¸“å®¶åŠ©æ‰‹"ï¼Œæ·±åº¦èµ‹èƒ½äº§ä¸šå‡çº§ã€‚

### æœªæ¥å‘å±•è¶‹åŠ¿

<div className="finetune-grid finetune-grid-2">
  <div className="finetune-highlight-box" style={{ borderLeftColor: 'var(--finetune-primary)' }}>
    <h4 style={{ color: 'var(--finetune-primary)', fontWeight: 600, marginBottom: '0.5rem' }}>è®­ç»ƒèŒƒå¼æ¼”è¿›</h4>
    <p style={{ fontSize: '0.875rem' }}>ä»"é¢„è®­ç»ƒ-å¾®è°ƒ"ä¸¤æ®µå¼å‘"é¢„è®­ç»ƒ-ä¸­è®­ç»ƒ-åè®­ç»ƒ"ä¸‰æ®µå¼æ¼”è¿›ï¼Œæ¨¡å‹èƒ½åŠ›æ„å»ºè¿‡ç¨‹æ›´åŠ æ¨¡å—åŒ–å’Œå¯æ§</p>
  </div>
  <div className="finetune-highlight-box" style={{ borderLeftColor: 'var(--finetune-primary-light)' }}>
    <h4 style={{ color: 'var(--finetune-primary-light)', fontWeight: 600, marginBottom: '0.5rem' }}>æŠ€æœ¯èåˆååŒ</h4>
    <p style={{ fontSize: '0.875rem' }}>å¼ºåŒ–å­¦ä¹ ã€PEFTä¸ä¸Šä¸‹æ–‡å·¥ç¨‹å°†ä»ç›¸äº’æ’æ–¥çš„é€‰æ‹©è½¬å˜ä¸ºçµæ´»ç»„åˆçš„å·¥å…·ç®±</p>
  </div>
  <div className="finetune-highlight-box">
    <h4 style={{ color: 'var(--finetune-text-secondary)', fontWeight: 600, marginBottom: '0.5rem' }}>æ•ˆç‡æŒç»­ä¼˜åŒ–</h4>
    <p style={{ fontSize: '0.875rem' }}>è‡ªåŠ¨åŒ–å¾®è°ƒï¼ˆAutoFTï¼‰å’Œæ•°æ®é«˜æ•ˆå¾®è°ƒï¼ˆDEFTï¼‰å°†è¿›ä¸€æ­¥é™ä½æŠ€æœ¯é—¨æ§›å’Œæ•°æ®è·å–æˆæœ¬</p>
  </div>
  <div className="finetune-highlight-box" style={{ borderLeftColor: 'var(--ifm-color-success)' }}>
    <h4 style={{ color: 'var(--ifm-color-success)', fontWeight: 600, marginBottom: '0.5rem' }}>èƒ½åŠ›è¾¹ç•Œæ‹“å±•</h4>
    <p style={{ fontSize: '0.875rem' }}>å‘å¤šæ¨¡æ€å¾®è°ƒå’Œè”é‚¦å¾®è°ƒæ–¹å‘å‘å±•ï¼Œçªç ´æ¨¡å‹åœ¨è·¨æ¨¡æ€å¤„ç†å’Œéšç§ä¿æŠ¤æ–¹é¢çš„èƒ½åŠ›è¾¹ç•Œ</p>
  </div>
</div>

<div className="finetune-card" style={{ marginTop: '2rem', textAlign: 'center', padding: '2rem' }}>
  <h4 style={{ fontStyle: 'italic', marginBottom: '1rem', color: 'var(--finetune-text-secondary)' }}>
    "å¾®è°ƒæŠ€æœ¯å·²æˆä¸ºè¿æ¥é€šç”¨å¤§æ¨¡å‹èƒ½åŠ›ä¸å‚ç›´è¡Œä¸šéœ€æ±‚çš„å…³é”®æ¡¥æ¢ã€‚é€šè¿‡'åŸºç¡€æ¨¡å‹+é¢†åŸŸå¾®è°ƒ'çš„æ··åˆæ¶æ„ï¼ŒAIæ­£åœ¨ä»é€šç”¨å·¥å…·è½¬å˜ä¸ºå„è¡Œå„ä¸šçš„'ä¸“å®¶åŠ©æ‰‹'ï¼Œæ·±åº¦èµ‹èƒ½äº§ä¸šå‡çº§ã€‚"
  </h4>
</div>

## å¸¸è§é—®é¢˜è§£ç­”

<FAQ accordion={true}>
  <FAQItem question="ä»€ä¹ˆæ˜¯æ¨¡å‹å¾®è°ƒï¼Ÿ">
    æ¨¡å‹å¾®è°ƒæ˜¯åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨ç‰¹å®šé¢†åŸŸçš„æ•°æ®è¿›è¡Œè¿›ä¸€æ­¥è®­ç»ƒï¼Œä½¿æ¨¡å‹é€‚åº”ç‰¹å®šä»»åŠ¡çš„è¿‡ç¨‹ã€‚å®ƒé€šè¿‡å°å¹…è°ƒæ•´æ¨¡å‹å‚æ•°ï¼Œå°†é€šç”¨AIèƒ½åŠ›é€‚é…åˆ°å…·ä½“åº”ç”¨åœºæ™¯ä¸­ã€‚
  </FAQItem>

  <FAQItem question="ä»€ä¹ˆæ—¶å€™éœ€è¦å¾®è°ƒï¼Ÿ">
    éœ€è¦å¾®è°ƒçš„åœºæ™¯åŒ…æ‹¬ï¼šç‰¹å®šé¢†åŸŸä»»åŠ¡ã€æ•°æ®åˆ†å¸ƒä¸é¢„è®­ç»ƒæ•°æ®ä¸åŒã€éœ€è¦ç‰¹å®šè¾“å‡ºæ ¼å¼ã€é¢„è®­ç»ƒæ¨¡å‹æ€§èƒ½ä¸è¶³ç­‰æƒ…å†µã€‚å½“æç¤ºå·¥ç¨‹å’ŒRAGæ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œå¾®è°ƒæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚
  </FAQItem>

  <FAQItem question="å¦‚ä½•é€‰æ‹©åŸºç¡€æ¨¡å‹ï¼Ÿ">
    é€‰æ‹©åŸºç¡€æ¨¡å‹éœ€è¦è€ƒè™‘ï¼šä»»åŠ¡ç±»å‹ï¼ˆæ ¹æ®ä»»åŠ¡é€‰æ‹©åˆé€‚æ¨¡å‹ï¼‰ã€æ¨¡å‹å¤§å°ï¼ˆå¹³è¡¡æ€§èƒ½å’Œèµ„æºï¼‰ã€è¯­è¨€æ”¯æŒï¼ˆé€‰æ‹©æ”¯æŒç›®æ ‡è¯­è¨€çš„æ¨¡å‹ï¼‰ã€è®¸å¯è¯ï¼ˆè€ƒè™‘å•†ä¸šä½¿ç”¨é™åˆ¶ï¼‰ç­‰å› ç´ ã€‚
  </FAQItem>

  <FAQItem question="éœ€è¦å¤šå°‘è®­ç»ƒæ•°æ®ï¼Ÿ">
    æ•°æ®é‡å»ºè®®ï¼šç®€å•ä»»åŠ¡éœ€è¦1000+æ ·æœ¬ï¼Œä¸­ç­‰ä»»åŠ¡éœ€è¦5000+æ ·æœ¬ï¼Œå¤æ‚ä»»åŠ¡éœ€è¦10000+æ ·æœ¬ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°æ®è´¨é‡æ¯”æ•°é‡æ›´é‡è¦ã€‚
  </FAQItem>

  <FAQItem question="å¦‚ä½•é€‰æ‹©å¾®è°ƒæ–¹æ³•ï¼ˆFFT vs PEFTï¼‰ï¼Ÿ">
    å¦‚æœèµ„æºå……è¶³ä¸”è¿½æ±‚æè‡´æ€§èƒ½ï¼Œé€‰æ‹©å…¨å‚æ•°å¾®è°ƒï¼ˆFFTï¼‰ã€‚å¦‚æœèµ„æºæœ‰é™ã€éœ€è¦å¿«é€Ÿè¿­ä»£æˆ–å¤šä»»åŠ¡é€‚é…ï¼Œé€‰æ‹©å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰ï¼Œå¦‚LoRAæˆ–QLoRAã€‚å¯¹äºè¶…å¤§æ¨¡å‹æˆ–å•GPUè®­ç»ƒï¼ŒQLoRAæ˜¯æœ€ä½³é€‰æ‹©ã€‚
  </FAQItem>

  <FAQItem question="LoRAå’ŒQLoRAçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ">
    LoRAé€šè¿‡ä½ç§©çŸ©é˜µåˆ†è§£å‡å°‘å¯è®­ç»ƒå‚æ•°ï¼Œå‚æ•°é‡å‡å°‘99%+ã€‚QLoRAåœ¨LoRAåŸºç¡€ä¸Šå¼•å…¥4ä½é‡åŒ–ï¼Œè¿›ä¸€æ­¥é™ä½å†…å­˜å ç”¨ï¼Œå¯åœ¨48GBå†…å­˜çš„GPUä¸Šè®­ç»ƒ65Bå‚æ•°çš„æ¨¡å‹ã€‚QLoRAæ€§èƒ½é€šå¸¸ä¸LoRAç›¸å½“ï¼Œä½†å†…å­˜å ç”¨æ›´ä½ã€‚
  </FAQItem>

  <FAQItem question="å¦‚ä½•è®¾ç½®å­¦ä¹ ç‡ï¼Ÿ">
    å­¦ä¹ ç‡è®¾ç½®å»ºè®®ï¼šåˆå§‹å€¼é€šå¸¸åœ¨1e-5åˆ°5e-5ä¹‹é—´ï¼Œä½¿ç”¨warmupå’Œè¡°å‡ç­–ç•¥ï¼Œæ ¹æ®éªŒè¯é›†æ€§èƒ½è°ƒæ•´ï¼Œå»ºè®®ä»è¾ƒå°å€¼å¼€å§‹ã€‚å…¨å‚æ•°å¾®è°ƒé€šå¸¸ä½¿ç”¨æ›´å°çš„å­¦ä¹ ç‡ï¼ˆ1e-5åˆ°1e-6ï¼‰ï¼Œè€ŒPEFTå¯ä»¥ä½¿ç”¨ç¨å¤§çš„å­¦ä¹ ç‡ï¼ˆ1e-4åˆ°2e-4ï¼‰ã€‚
  </FAQItem>

  <FAQItem question="å¦‚ä½•å¤„ç†è¿‡æ‹Ÿåˆï¼Ÿ">
    å¤„ç†è¿‡æ‹Ÿåˆçš„æ–¹æ³•åŒ…æ‹¬ï¼šå¢åŠ è®­ç»ƒæ•°æ®ã€ä½¿ç”¨æ­£åˆ™åŒ–ï¼ˆDropoutã€æƒé‡è¡°å‡ï¼‰ã€æ•°æ®å¢å¼ºã€æ—©åœæœºåˆ¶ã€å‡å°‘æ¨¡å‹å¤æ‚åº¦ã€‚å¯¹äºPEFTæ–¹æ³•ï¼Œè¿‡æ‹Ÿåˆé£é™©é€šå¸¸è¾ƒä½ã€‚
  </FAQItem>

  <FAQItem question="å¦‚ä½•è¯„ä¼°å¾®è°ƒæ•ˆæœï¼Ÿ">
    è¯„ä¼°æ–¹æ³•åŒ…æ‹¬ï¼šä½¿ç”¨ç‹¬ç«‹çš„æµ‹è¯•é›†ã€è®¡ç®—å¤šä¸ªæŒ‡æ ‡ï¼ˆå‡†ç¡®ç‡ã€F1ã€BLEUã€ROUGEç­‰ï¼‰ã€è¿›è¡Œé”™è¯¯åˆ†æã€ä¸åŸºçº¿æ¨¡å‹å¯¹æ¯”ã€‚å¯¹äºç”Ÿæˆä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨BLEUã€ROUGEç­‰æŒ‡æ ‡ï¼›å¯¹äºåˆ†ç±»ä»»åŠ¡ï¼Œä½¿ç”¨å‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡ç­‰æŒ‡æ ‡ã€‚
  </FAQItem>

  <FAQItem question="å¾®è°ƒä¸RAGã€æç¤ºå·¥ç¨‹çš„åŒºåˆ«ï¼Ÿ">
    æç¤ºå·¥ç¨‹ï¼šæ— éœ€è®­ç»ƒï¼Œæˆæœ¬æœ€ä½ï¼Œä½†å®šåˆ¶ç¨‹åº¦æœ‰é™ã€‚RAGï¼šé€šè¿‡æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œé€‚åˆçŸ¥è¯†å¯†é›†å‹ä»»åŠ¡ï¼Œä½†éœ€è¦å‘é‡æ•°æ®åº“ã€‚å¾®è°ƒï¼šå®šåˆ¶ç¨‹åº¦æœ€é«˜ï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†éœ€è¦è®­ç»ƒæ•°æ®å’Œè®¡ç®—èµ„æºã€‚ä¸‰è€…å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œæ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©ã€‚
  </FAQItem>
</FAQ>

</div>

